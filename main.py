# -*- coding: utf-8 -*-
import logging
import os
import random
import re
from collections import defaultdict

from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes, MessageHandler, filters
from telegram.constants import ParseMode # –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ ParseMode –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω

# !!! –ú–ê“¢–´–ó–î–´: "YOUR_BOT_TOKEN_HERE" –û–†–ù–´–ù–ê ”®–ó–Ü“¢–Ü–ó–î–Ü“¢ –ù–ê“ö–¢–´ –¢–û–ö–ï–ù–Ü“¢–Ü–ó–î–Ü “ö–û–ô–´“¢–´–ó !!!
# “ö–æ—Ä—à–∞“ì–∞–Ω –æ—Ä—Ç–∞ –∞–π–Ω—ã–º–∞–ª—ã—Å—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã“£—ã–∑ –Ω–µ–º–µ—Å–µ —Ç”©–º–µ–Ω–¥–µ–≥—ñ –∂–æ–ª–¥—ã –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑
BOT_TOKEN = os.environ.get("BOT_TOKEN", "YOUR_BOT_TOKEN_HERE") git status # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∏–¥–∏—Ç –ª–∏ Git –Ω–æ–≤—ã–π —Ñ–∞–π–ª (–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ 'Untracked files')

# --- –õ–æ–≥—Ç–∞—É–¥—ã –±–∞–ø—Ç–∞—É ---
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.INFO
)
logging.getLogger("httpx").setLevel(logging.WARNING)
logger = logging.getLogger(__name__)

# --- –ó–∞—Ç—Ç–∞—Ä –±–æ–π—ã–Ω—à–∞ –¥–µ—Ä–µ–∫—Ç–µ—Ä ---
COMPOUNDS_DATA = {
    "H2O": {"name": "–°—É", "type": "–û–∫—Å–∏–¥", "properties": "–¢“Ø—Å—Å—ñ–∑, –∏—ñ—Å—Å—ñ–∑, –¥”ô–º—Å—ñ–∑ —Å“±–π—ã“õ—Ç—ã“õ.", "application": "–Ü—à—É–≥–µ, ”©–Ω–µ—Ä–∫”ô—Å—ñ–ø—Ç–µ, –∑–µ—Ä—Ç—Ö–∞–Ω–∞–¥–∞."},
    "NACL": {"name": "–ù–∞—Ç—Ä–∏–π —Ö–ª–æ—Ä–∏–¥—ñ (–∞—Å —Ç“±–∑—ã)", "type": "–¢“±–∑", "properties": "–ê“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä, —Å—É–¥–∞ –µ—Ä–∏–¥—ñ, —Ç“±–∑–¥—ã –¥”ô–º.", "application": "–¢–∞“ì–∞–º–¥—ã“õ “õ–æ—Å–ø–∞, –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç, —Ö–∏–º–∏—è ”©–Ω–µ—Ä–∫”ô—Å—ñ–±—ñ–Ω–¥–µ."},
    "O2": {"name": "–û—Ç—Ç–µ–∫", "type": "–ñ–∞–π –∑–∞—Ç (–±–µ–π–º–µ—Ç–∞–ª–ª)", "properties": "–¢“Ø—Å—Å—ñ–∑, –∏—ñ—Å—Å—ñ–∑ –≥–∞–∑, –∂–∞–Ω—É–¥—ã “õ–æ–ª–¥–∞–π–¥—ã.", "application": "–¢—ã–Ω—ã—Å –∞–ª—É, –¥”ô–Ω–µ–∫–µ—Ä–ª–µ—É, –º–µ–¥–∏—Ü–∏–Ω–∞–¥–∞."},
    "CO2": {"name": "–ö”©–º—ñ—Ä“õ—ã—à“õ—ã–ª –≥–∞–∑—ã", "type": "–û–∫—Å–∏–¥", "properties": "–¢“Ø—Å—Å—ñ–∑, –∏—ñ—Å—Å—ñ–∑ –≥–∞–∑, –∞—É–∞–¥–∞–Ω –∞—É—ã—Ä, –∂–∞–Ω—É–¥—ã “õ–æ–ª–¥–∞–º–∞–π–¥—ã.", "application": "–ì–∞–∑–¥–∞–ª“ì–∞–Ω —Å—É—Å—ã–Ω–¥–∞—Ä, ”©—Ä—Ç —Å”©–Ω–¥—ñ—Ä–≥—ñ—à—Ç–µ—Ä, —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–¥–µ."},
    "FE": {"name": "–¢–µ–º—ñ—Ä", "type": "–ñ–∞–π –∑–∞—Ç (–º–µ—Ç–∞–ª–ª)", "properties": "–ö“Ø–º—ñ—Å —Ç“Ø—Å—Ç—ñ —Å“±—Ä –º–µ—Ç–∞–ª–ª, —Å–æ–∑—ã–ª“ì—ã—à, –º–∞–≥–Ω–∏—Ç—Ç—ñ.", "application": "“ö“±—Ä—ã–ª—ã—Å, –º–∞—à–∏–Ω–∞ –∂–∞—Å–∞—É, –º–µ–¥–∏—Ü–∏–Ω–∞ (–≥–µ–º–æ–≥–ª–æ–±–∏–Ω)."},
    "H2SO4": {"name": "–ö“Ø–∫—ñ—Ä—Ç “õ—ã—à“õ—ã–ª—ã", "type": "“ö—ã—à“õ—ã–ª", "properties": "–¢“Ø—Å—Å—ñ–∑ –º–∞–π–ª—ã —Å“±–π—ã“õ—Ç—ã“õ, ”©—Ç–µ –∫“Ø–π–¥—ñ—Ä–≥—ñ—à, –≥–∏–≥—Ä–æ—Å–∫–æ–ø–∏—è–ª—ã“õ.", "application": "–¢—ã“£–∞–π—Ç“õ—ã—à—Ç–∞—Ä, –±–æ—è“ì—ã—à—Ç–∞—Ä, –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–ª–∞—Ä ”©–Ω–¥—ñ—Ä—ñ—Å—ñ."},
    "NAOH": {"name": "–ù–∞—Ç—Ä–∏–π –≥–∏–¥—Ä–æ–∫—Å–∏–¥—ñ (–∫–∞—É—Å—Ç–∏–∫–∞–ª—ã“õ —Å–æ–¥–∞)", "type": "–ù–µ–≥—ñ–∑ (—Å—ñ–ª—Ç—ñ)", "properties": "–ê“õ “õ–∞—Ç—Ç—ã –∑–∞—Ç—Ç–∞—Ä, ”©—Ç–µ –≥–∏–≥—Ä–æ—Å–∫–æ–ø–∏—è–ª—ã“õ, –∫“Ø–π–¥—ñ—Ä–≥—ñ—à.", "application": "–°–∞–±—ã–Ω, “õ–∞“ì–∞–∑ ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –∞“ì—ã–Ω–¥—ã —Å—É–ª–∞—Ä–¥—ã —Ç–∞–∑–∞—Ä—Ç—É."},
    "NH3": {"name": "–ê–º–º–∏–∞–∫", "type": "–ù–µ–≥—ñ–∑", "properties": "–¢“Ø—Å—Å—ñ–∑ ”©—Ç–∫—ñ—Ä –∏—ñ—Å—Ç—ñ –≥–∞–∑, —Å—É–¥–∞ –∂–∞“õ—Å—ã –µ—Ä–∏–¥—ñ.", "application": "–¢—ã“£–∞–π—Ç“õ—ã—à—Ç–∞—Ä, –∞–∑–æ—Ç “õ—ã—à“õ—ã–ª—ã ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, —Ö–ª–∞–¥–∞–≥–µ–Ω—Ç."},
    "CH4": {"name": "–ú–µ—Ç–∞–Ω", "type": "–ö”©–º—ñ—Ä—Å—É—Ç–µ–∫", "properties": "–¢“Ø—Å—Å—ñ–∑, –∏—ñ—Å—Å—ñ–∑ –≥–∞–∑, —Ç–∞–±–∏“ì–∏ –≥–∞–∑–¥—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ.", "application": "–û—Ç—ã–Ω, —Ö–∏–º–∏—è–ª—ã“õ —à–∏–∫—ñ–∑–∞—Ç."},
    "HCL": {"name": "–•–ª–æ—Ä—Å—É—Ç–µ–∫ (—Ç“±–∑ “õ—ã—à“õ—ã–ª—ã)", "type": "“ö—ã—à“õ—ã–ª", "properties": "–¢“Ø—Å—Å—ñ–∑ ”©—Ç–∫—ñ—Ä –∏—ñ—Å—Ç—ñ –≥–∞–∑, —Å—É–ª—ã –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ - –∫“Ø—à—Ç—ñ “õ—ã—à“õ—ã–ª.", "application": "–•–ª–æ—Ä–∏–¥—Ç–µ—Ä ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –º–µ—Ç–∞–ª–¥–∞—Ä–¥—ã —Ç–∞–∑–∞—Ä—Ç—É, –∞—Å “õ–æ—Ä—ã—Ç—É–¥–∞."},
    "C6H12O6": {"name": "–ì–ª—é–∫–æ–∑–∞", "type": "–ö”©–º—ñ—Ä—Å—É", "properties": "–ê“õ –∫—Ä–∏—Å—Ç–∞–ª–¥—ã –∑–∞—Ç, —Ç”ô—Ç—Ç—ñ –¥”ô–º, —Å—É–¥–∞ –µ—Ä–∏–¥—ñ.", "application": "–¢—ñ—Ä—ñ –æ—Ä–≥–∞–Ω–∏–∑–º–¥–µ—Ä “Ø—à—ñ–Ω —ç–Ω–µ—Ä–≥–∏—è –∫”©–∑—ñ, —Ç–∞–º–∞“õ ”©–Ω–µ—Ä–∫”ô—Å—ñ–±—ñ–Ω–¥–µ."},
    "C2H5OH": {"name": "–≠—Ç–∞–Ω–æ–ª (—ç—Ç–∏–ª —Å–ø–∏—Ä—Ç—ñ)", "type": "–°–ø–∏—Ä—Ç", "properties": "–¢“Ø—Å—Å—ñ–∑ “±—à“õ—ã—à —Å“±–π—ã“õ—Ç—ã“õ, —Ç”ô–Ω –∏—ñ—Å—ñ –±–∞—Ä.", "application": "–°—É—Å—ã–Ω–¥–∞—Ä ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –µ—Ä—ñ—Ç–∫—ñ—à, –æ—Ç—ã–Ω, –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫."},
    "CH3COOH": {"name": "–°—ñ—Ä–∫–µ “õ—ã—à“õ—ã–ª—ã", "type": "–ö–∞—Ä–±–æ–Ω “õ—ã—à“õ—ã–ª—ã", "properties": "–¢“Ø—Å—Å—ñ–∑ ”©—Ç–∫—ñ—Ä “õ—ã—à“õ—ã–ª –∏—ñ—Å—Ç—ñ —Å“±–π—ã“õ—Ç—ã“õ.", "application": "–¢–∞“ì–∞–º–¥—ã“õ “õ–æ—Å–ø–∞ (—Å—ñ—Ä–∫–µ —Å—É—ã), –ø–æ–ª–∏–º–µ—Ä–ª–µ—Ä ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –µ—Ä—ñ—Ç–∫—ñ—à."},
    "CACO3": {"name": "–ö–∞–ª—å—Ü–∏–π –∫–∞—Ä–±–æ–Ω–∞—Ç—ã (–±–æ—Ä, ”ô–∫—Ç–∞—Å)", "type": "–¢“±–∑", "properties": "–ê“õ “õ–∞—Ç—Ç—ã –∑–∞—Ç, —Å—É–¥–∞ –µ—Ä—ñ–º–µ–π–¥—ñ.", "application": "“ö“±—Ä—ã–ª—ã—Å, —Ü–µ–º–µ–Ω—Ç ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, —Ç–∞“ì–∞–º–¥—ã“õ “õ–æ—Å–ø–∞."},
    "SIO2": {"name": "–ö—Ä–µ–º–Ω–∏–π –¥–∏–æ–∫—Å–∏–¥—ñ (–∫—Ä–µ–º–Ω–µ–∑–µ–º, “õ“±–º)", "type": "–û–∫—Å–∏–¥", "properties": "“ö–∞—Ç—Ç—ã –∑–∞—Ç, —Å—É–¥–∞ –µ—Ä—ñ–º–µ–π–¥—ñ, –∂–æ“ì–∞—Ä—ã “õ–∞—Ç—Ç—ã–ª—ã“õ.", "application": "“ö“±—Ä—ã–ª—ã—Å, —à—ã–Ω—ã ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –∞–±—Ä–∞–∑–∏–≤—Ç—ñ –º–∞—Ç–µ—Ä–∏–∞–ª."},
    "AL2O3": {"name": "–ê–ª—é–º–∏–Ω–∏–π –æ–∫—Å–∏–¥—ñ (–≥–ª–∏–Ω–æ–∑–µ–º)", "type": "–û–∫—Å–∏–¥", "properties": "–ê“õ “õ–∞—Ç—Ç—ã –∑–∞—Ç, –∞–º—Ñ–æ—Ç–µ—Ä–ª—ñ –æ–∫—Å–∏–¥.", "application": "–ê–ª—é–º–∏–Ω–∏–π ”©–Ω–¥—ñ—Ä—ñ—Å—ñ, –∞–±—Ä–∞–∑–∏–≤—Ç—ñ –º–∞—Ç–µ—Ä–∏–∞–ª, –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä."},
    "CUSO4": {"name": "–ú—ã—Å(II) —Å—É–ª—å—Ñ–∞—Ç—ã (–º—ã—Å –∫—É–ø–æ—Ä–æ—Å—ã)", "type": "–¢“±–∑", "properties": "–ö”©–∫ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä, —Å—É–¥–∞ –µ—Ä–∏–¥—ñ.", "application": "–ê—É—ã–ª —à–∞—Ä—É–∞—à—ã–ª—ã“ì—ã (—Ñ—É–Ω–≥–∏—Ü–∏–¥), –≥–∞–ª—å–≤–∞–Ω–æ—Ç–µ—Ö–Ω–∏–∫–∞."},
    "AGNO3": {"name": "–ö“Ø–º—ñ—Å(I) –Ω–∏—Ç—Ä–∞—Ç—ã (–ª—è–ø–∏—Å)", "type": "–¢“±–∑", "properties": "–ê“õ –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä, —Å—É–¥–∞ –µ—Ä–∏–¥—ñ, –∂–∞—Ä—ã“õ—Ç–∞ “õ–∞—Ä–∞—è–¥—ã.", "application": "–ú–µ–¥–∏—Ü–∏–Ω–∞ (–∫“Ø–π–¥—ñ—Ä–≥—ñ—à –∑–∞—Ç), —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è."},
    "KMNO4": {"name": "–ö–∞–ª–∏–π –ø–µ—Ä–º–∞–Ω–≥–∞–Ω–∞—Ç—ã (–º–∞—Ä–≥–∞–Ω—Ü–æ–≤–∫–∞)", "type": "–¢“±–∑", "properties": "“ö–æ—é –∫“Ø–ª–≥—ñ–Ω –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä, —Å—É–¥–∞ –µ—Ä–∏–¥—ñ, –∫“Ø—à—Ç—ñ —Ç–æ—Ç—ã“õ—Ç—ã—Ä“ì—ã—à.", "application": "–ê–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫, —Ö–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä–¥–∞ —Ç–æ—Ç—ã“õ—Ç—ã—Ä“ì—ã—à."},
}

# --- –ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ (—ñ–∑–¥–µ—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä) ---
ELEMENTS_DATA = {
    "H": {"name": "–°—É—Ç–µ–∫", "atomic_number": 1, "atomic_mass": 1.008},
    "He": {"name": "–ì–µ–ª–∏–π", "atomic_number": 2, "atomic_mass": 4.0026},
    "Li": {"name": "–õ–∏—Ç–∏–π", "atomic_number": 3, "atomic_mass": 6.94},
    "Be": {"name": "–ë–µ—Ä–∏–ª–ª–∏–π", "atomic_number": 4, "atomic_mass": 9.0122},
    "B": {"name": "–ë–æ—Ä", "atomic_number": 5, "atomic_mass": 10.81},
    "C": {"name": "–ö”©–º—ñ—Ä—Ç–µ–∫", "atomic_number": 6, "atomic_mass": 12.011},
    "N": {"name": "–ê–∑–æ—Ç", "atomic_number": 7, "atomic_mass": 14.007},
    "O": {"name": "–û—Ç—Ç–µ–∫", "atomic_number": 8, "atomic_mass": 15.999},
    "F": {"name": "–§—Ç–æ—Ä", "atomic_number": 9, "atomic_mass": 18.998},
    "Ne": {"name": "–ù–µ–æ–Ω", "atomic_number": 10, "atomic_mass": 20.180},
    "Na": {"name": "–ù–∞—Ç—Ä–∏–π", "atomic_number": 11, "atomic_mass": 22.990},
    "Mg": {"name": "–ú–∞–≥–Ω–∏–π", "atomic_number": 12, "atomic_mass": 24.305},
    "Al": {"name": "–ê–ª—é–º–∏–Ω–∏–π", "atomic_number": 13, "atomic_mass": 26.982},
    "Si": {"name": "–ö—Ä–µ–º–Ω–∏–π", "atomic_number": 14, "atomic_mass": 28.085},
    "P": {"name": "–§–æ—Å—Ñ–æ—Ä", "atomic_number": 15, "atomic_mass": 30.974},
    "S": {"name": "–ö“Ø–∫—ñ—Ä—Ç", "atomic_number": 16, "atomic_mass": 32.06},
    "Cl": {"name": "–•–ª–æ—Ä", "atomic_number": 17, "atomic_mass": 35.45},
    "K": {"name": "–ö–∞–ª–∏–π", "atomic_number": 19, "atomic_mass": 39.098},
    "Ca": {"name": "–ö–∞–ª—å—Ü–∏–π", "atomic_number": 20, "atomic_mass": 40.078},
    "Sc": {"name": "–°–∫–∞–Ω–¥–∏–π", "atomic_number": 21, "atomic_mass": 44.956},
    "Ti": {"name": "–¢–∏—Ç–∞–Ω", "atomic_number": 22, "atomic_mass": 47.867},
    "V": {"name": "–í–∞–Ω–∞–¥–∏–π", "atomic_number": 23, "atomic_mass": 50.942},
    "Cr": {"name": "–•—Ä–æ–º", "atomic_number": 24, "atomic_mass": 51.996},
    "Mn": {"name": "–ú–∞—Ä–≥–∞–Ω–µ—Ü", "atomic_number": 25, "atomic_mass": 54.938},
    "Fe": {"name": "–¢–µ–º—ñ—Ä", "atomic_number": 26, "atomic_mass": 55.845},
    "Ni": {"name": "–ù–∏–∫–µ–ª—å", "atomic_number": 28, "atomic_mass": 58.693},
    "Cu": {"name": "–ú—ã—Å", "atomic_number": 29, "atomic_mass": 63.546},
    "Zn": {"name": "–ú—ã—Ä—ã—à", "atomic_number": 30, "atomic_mass": 65.38},
    "Br": {"name": "–ë—Ä–æ–º", "atomic_number": 35, "atomic_mass": 79.904},
    "Ag": {"name": "–ö“Ø–º—ñ—Å", "atomic_number": 47, "atomic_mass": 107.87},
    "Sn": {"name": "“ö–∞–ª–∞–π—ã", "atomic_number": 50, "atomic_mass": 118.71},
    "I": {"name": "–ô–æ–¥", "atomic_number": 53, "atomic_mass": 126.90},
    "Au": {"name": "–ê–ª—Ç—ã–Ω", "atomic_number": 79, "atomic_mass": 196.97},
    "Hg": {"name": "–°—ã–Ω–∞–ø", "atomic_number": 80, "atomic_mass": 200.59},
    "Pb": {"name": "“ö–æ—Ä“ì–∞—Å—ã–Ω", "atomic_number": 82, "atomic_mass": 207.2},
    "U": {"name": "–£—Ä–∞–Ω", "atomic_number": 92, "atomic_mass": 238.03},
}

# --- –†–µ–∞–∫—Ü–∏—è–ª–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä ---
# –ö—ñ–ª—Ç - —Ä–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä –∫–æ—Ä—Ç–µ–∂—ñ (—Å“±—Ä—ã–ø—Ç–∞–ª“ì–∞–Ω, –ñ–û“í–ê–†“í–´ –†–ï–ì–ò–°–¢–†), –º”ô–Ω—ñ - —Ä–µ–∞–∫—Ü–∏—è –¥–µ—Ä–µ–∫—Ç–µ—Ä—ñ –±–∞—Ä —Å”©–∑–¥—ñ–∫
REACTIONS_DATA = {
    # === “ö–æ—Å—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã ===
    ('H2', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('H2', 'O2'), 'products': ('H2O',), 'equation': "2H2 + O2 -> 2H2O"},
    ('CL2', 'NA'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('Na', 'Cl2'), 'products': ('NaCl',), 'equation': "2Na + Cl2 -> 2NaCl"},
    ('FE', 'S'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('Fe', 'S'), 'products': ('FeS',), 'equation': "Fe + S -> FeS"},
    ('CAO', 'H2O'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('CaO', 'H2O'), 'products': ('Ca(OH)2',), 'equation': "CaO + H2O -> Ca(OH)2"},
    ('H2O', 'SO3'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('SO3', 'H2O'), 'products': ('H2SO4',), 'equation': "SO3 + H2O -> H2SO4"},
    ('H2', 'N2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('N2', 'H2'), 'products': ('NH3',), 'equation': "N2 + 3H2 -> 2NH3"},
    ('O2', 'P'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('P', 'O2'), 'products': ('P2O5',), 'equation': "4P + 5O2 -> 2P2O5"},
    ('AL', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('Al', 'O2'), 'products': ('Al2O3',), 'equation': "4Al + 3O2 -> 2Al2O3"},
    ('H2', 'CL2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('H2', 'Cl2'), 'products': ('HCl',), 'equation': "H2 + Cl2 -> 2HCl"},
    ('H2O', 'SO2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('SO2', 'H2O'), 'products': ('H2SO3',), 'equation': "SO2 + H2O <=> H2SO3"},
    ('K2O', 'H2O'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('K2O', 'H2O'), 'products': ('KOH',), 'equation': "K2O + H2O -> 2KOH"},
    ('MG', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('Mg', 'O2'), 'products': ('MgO',), 'equation': "2Mg + O2 -> 2MgO"},
    ('C', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('C', 'O2'), 'products': ('CO2',), 'equation': "C + O2 -> CO2"},
    ('N2', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('N2', 'O2'), 'products': ('NO',), 'equation': "N2 + O2 -> 2NO"},
    ('FE', 'O2'): {'type': '“ö–æ—Å—ã–ª—É', 'reactants': ('Fe', 'O2'), 'products': ('Fe3O4',), 'equation': "3Fe + 2O2 -> Fe3O4"},

    # === –ê–π—ã—Ä—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã ===
    ('CACO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('CaCO3',), 'products': ('CaO', 'CO2'), 'equation': "CaCO3 -> CaO + CO2"},
    ('KCLO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('KClO3',), 'products': ('KCl', 'O2'), 'equation': "2KClO3 -> 2KCl + 3O2"},
    ('H2O2',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('H2O2',), 'products': ('H2O', 'O2'), 'equation': "2H2O2 -> 2H2O + O2"},
    ('H2O',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('H2O',), 'products': ('H2', 'O2'), 'equation': "2H2O -> 2H2 + O2"},
    ('NH4NO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('NH4NO3',), 'products': ('N2O', 'H2O'), 'equation': "NH4NO3 -> N2O + 2H2O"},
    ('CU(OH)2',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('Cu(OH)2',), 'products': ('CuO', 'H2O'), 'equation': "Cu(OH)2 -> CuO + H2O"},
    ('NAHCO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('NaHCO3',), 'products': ('Na2CO3', 'CO2', 'H2O'), 'equation': "2NaHCO3 -> Na2CO3 + CO2 + H2O"},
    ('HNO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('HNO3',), 'products': ('NO2', 'O2', 'H2O'), 'equation': "4HNO3 -> 4NO2 + O2 + 2H2O"},
    ('(CUOH)2CO3',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('(CuOH)2CO3',), 'products': ('CuO', 'H2O', 'CO2'), 'equation': "(CuOH)2CO3 -> 2CuO + H2O + CO2"},
    ('HGO',): {'type': '–ê–π—ã—Ä—ã–ª—É', 'reactants': ('HgO',), 'products': ('Hg', 'O2'), 'equation': "2HgO -> 2Hg + O2"},

    # === –û—Ä—ã–Ω–±–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã ===
    ('CUSO4', 'ZN'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Zn', 'CuSO4'), 'products': ('ZnSO4', 'Cu'), 'equation': "Zn + CuSO4 -> ZnSO4 + Cu"},
    ('CUSO4', 'FE'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Fe', 'CuSO4'), 'products': ('FeSO4', 'Cu'), 'equation': "Fe + CuSO4 -> FeSO4 + Cu"},
    ('HCL', 'ZN'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Zn', 'HCl'), 'products': ('ZnCl2', 'H2'), 'equation': "Zn + 2HCl -> ZnCl2 + H2"},
    ('HCL', 'MG'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Mg', 'HCl'), 'products': ('MgCl2', 'H2'), 'equation': "Mg + 2HCl -> MgCl2 + H2"},
    ('KBR', 'CL2'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Cl2', 'KBr'), 'products': ('KCl', 'Br2'), 'equation': "Cl2 + 2KBr -> 2KCl + Br2"},
    ('H2O', 'NA'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Na', 'H2O'), 'products': ('NaOH', 'H2'), 'equation': "2Na + 2H2O -> 2NaOH + H2"},
    ('AGNO3', 'CU'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Cu', 'AgNO3'), 'products': ('Cu(NO3)2', 'Ag'), 'equation': "Cu + 2AgNO3 -> Cu(NO3)2 + 2Ag"},
    ('CUO', 'H2'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('CuO', 'H2'), 'products': ('Cu', 'H2O'), 'equation': "CuO + H2 -> Cu + H2O"},
    ('AL', 'HCL'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Al', 'HCl'), 'products': ('AlCl3', 'H2'), 'equation': "2Al + 6HCl -> 2AlCl3 + 3H2"},
    ('H2SO4', 'ZN'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Zn', 'H2SO4'), 'products': ('ZnSO4', 'H2'), 'equation': "Zn + H2SO4 -> ZnSO4 + H2"},
    ('FE', 'HCL'): {'type': '–û—Ä—ã–Ω–±–∞—Å—É', 'reactants': ('Fe', 'HCl'), 'products': ('FeCl2', 'H2'), 'equation': "Fe + 2HCl -> FeCl2 + H2"},

    # === –ê–ª–º–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É) ===
    ('HCL', 'NAOH'): {'type': '–ê–ª–º–∞—Å—É (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É)', 'reactants': ('HCl', 'NaOH'), 'products': ('NaCl', 'H2O'), 'equation': "HCl + NaOH -> NaCl + H2O"},
    ('H2SO4', 'KOH'): {'type': '–ê–ª–º–∞—Å—É (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É)', 'reactants': ('H2SO4', 'KOH'), 'products': ('K2SO4', 'H2O'), 'equation': "H2SO4 + 2KOH -> K2SO4 + 2H2O"},
    ('CA(OH)2', 'HNO3'): {'type': '–ê–ª–º–∞—Å—É (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É)', 'reactants': ('Ca(OH)2', 'HNO3'), 'products': ('Ca(NO3)2', 'H2O'), 'equation': "Ca(OH)2 + 2HNO3 -> Ca(NO3)2 + 2H2O"},
    ('H3PO4', 'NAOH'): {'type': '–ê–ª–º–∞—Å—É (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É)', 'reactants': ('H3PO4', 'NaOH'), 'products': ('Na3PO4', 'H2O'), 'equation': "H3PO4 + 3NaOH -> Na3PO4 + 3H2O"},
    ('HNO3', 'NH3'): {'type': '–ê–ª–º–∞—Å—É (–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É)', 'reactants': ('NH3', 'HNO3'), 'products': ('NH4NO3',), 'equation': "NH3 + HNO3 -> NH4NO3"},

    # === –ê–ª–º–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É) ===
    ('AGNO3', 'NACL'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('AgNO3', 'NaCl'), 'products': ('AgCl', 'NaNO3'), 'equation': "AgNO3 + NaCl -> AgCl(s) + NaNO3"},
    ('BACL2', 'NA2SO4'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('BaCl2', 'Na2SO4'), 'products': ('BaSO4', 'NaCl'), 'equation': "BaCl2 + Na2SO4 -> BaSO4(s) + 2NaCl"},
    ('KI', 'PB(NO3)2'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('Pb(NO3)2', 'KI'), 'products': ('PbI2', 'KNO3'), 'equation': "Pb(NO3)2 + 2KI -> PbI2(s) + 2KNO3"},
    ('CUSO4', 'NAOH'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('CuSO4', 'NaOH'), 'products': ('Cu(OH)2', 'Na2SO4'), 'equation': "CuSO4 + 2NaOH -> Cu(OH)2(s) + Na2SO4"},
    ('FECL3', 'NAOH'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('FeCl3', 'NaOH'), 'products': ('Fe(OH)3', 'NaCl'), 'equation': "FeCl3 + 3NaOH -> Fe(OH)3(s) + 3NaCl"},
    ('CACL2', 'NA2CO3'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('CaCl2', 'Na2CO3'), 'products': ('CaCO3', 'NaCl'), 'equation': "CaCl2 + Na2CO3 -> CaCO3(s) + 2NaCl"},
    ('BA(NO3)2', 'NA2CO3'): {'type': '–ê–ª–º–∞—Å—É (–¢“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª—É)', 'reactants': ('Ba(NO3)2', 'Na2CO3'), 'products': ('BaCO3', 'NaNO3'), 'equation': "Ba(NO3)2 + Na2CO3 -> BaCO3(s) + 2NaNO3"},

    # === –ê–ª–º–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã (–ì–∞–∑ –±”©–ª—ñ–Ω—É) ===
    ('HCL', 'NA2CO3'): {'type': '–ê–ª–º–∞—Å—É (–ì–∞–∑ –±”©–ª—ñ–Ω—É)', 'reactants': ('Na2CO3', 'HCl'), 'products': ('NaCl', 'H2O', 'CO2'), 'equation': "Na2CO3 + 2HCl -> 2NaCl + H2O + CO2(g)"},
    ('FES', 'HCL'): {'type': '–ê–ª–º–∞—Å—É (–ì–∞–∑ –±”©–ª—ñ–Ω—É)', 'reactants': ('FeS', 'HCl'), 'products': ('FeCl2', 'H2S'), 'equation': "FeS + 2HCl -> FeCl2 + H2S(g)"},
    ('NH4CL', 'NAOH'): {'type': '–ê–ª–º–∞—Å—É (–ì–∞–∑ –±”©–ª—ñ–Ω—É)', 'reactants': ('NH4Cl', 'NaOH'), 'products': ('NaCl', 'NH3', 'H2O'), 'equation': "NH4Cl + NaOH -> NaCl + NH3(g) + H2O"},
    ('HCL', 'NAHCO3'): {'type': '–ê–ª–º–∞—Å—É (–ì–∞–∑ –±”©–ª—ñ–Ω—É)', 'reactants': ('NaHCO3', 'HCl'), 'products': ('NaCl', 'H2O', 'CO2'), 'equation': "NaHCO3 + HCl -> NaCl + H2O + CO2(g)"},
    ('NA2SO3', 'HCL'): {'type': '–ê–ª–º–∞—Å—É (–ì–∞–∑ –±”©–ª—ñ–Ω—É)', 'reactants': ('Na2SO3', 'HCl'), 'products': ('NaCl', 'H2O', 'SO2'), 'equation': "Na2SO3 + 2HCl -> 2NaCl + H2O + SO2(g)"},

    # === –ñ–∞–Ω—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã ===
    ('CH4', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('CH4', 'O2'), 'products': ('CO2', 'H2O'), 'equation': "CH4 + 2O2 -> CO2 + 2H2O"},
    ('C2H5OH', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('C2H5OH', 'O2'), 'products': ('CO2', 'H2O'), 'equation': "C2H5OH + 3O2 -> 2CO2 + 3H2O"},
    ('C6H12O6', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('C6H12O6', 'O2'), 'products': ('CO2', 'H2O'), 'equation': "C6H12O6 + 6O2 -> 6CO2 + 6H2O"},
    ('C3H8', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('C3H8', 'O2'), 'products': ('CO2', 'H2O'), 'equation': "C3H8 + 5O2 -> 3CO2 + 4H2O"},
    ('O2', 'S'): {'type': '–ñ–∞–Ω—É', 'reactants': ('S', 'O2'), 'products': ('SO2',), 'equation': "S + O2 -> SO2"},
    ('H2S', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('H2S', 'O2'), 'products': ('SO2', 'H2O'), 'equation': "2H2S + 3O2 -> 2SO2 + 2H2O"},
    ('CO', 'O2'): {'type': '–ñ–∞–Ω—É', 'reactants': ('CO', 'O2'), 'products': ('CO2',), 'equation': "2CO + O2 -> 2CO2"},

    # === –ë–∞—Å“õ–∞ –º–∞“£—ã–∑–¥—ã —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä ===
    ('CO', 'FE2O3'): {'type': '–ë–∞—Å“õ–∞', 'reactants': ('Fe2O3', 'CO'), 'products': ('Fe', 'CO2'), 'equation': "Fe2O3 + 3CO -> 2Fe + 3CO2"},
    ('HCL', 'MNO2'): {'type': '–ë–∞—Å“õ–∞', 'reactants': ('MnO2', 'HCl'), 'products': ('MnCl2', 'Cl2', 'H2O'), 'equation': "MnO2 + 4HCl -> MnCl2 + Cl2 + 2H2O"},
    ('CL2', 'H2O'): {'type': '–ë–∞—Å“õ–∞', 'reactants': ('Cl2', 'H2O'), 'products': ('HCl', 'HClO'), 'equation': "Cl2 + H2O <=> HCl + HClO"},
    ('CU', 'HNO3'): {'type': '–ë–∞—Å“õ–∞', 'reactants': ('Cu', 'HNO3'), 'products': ('Cu(NO3)2', 'NO2', 'H2O'), 'equation': "Cu + 4HNO3(–∫–æ–Ω—Ü.) -> Cu(NO3)2 + 2NO2 + 2H2O"},
    ('ZN', 'NAOH'): {'type': '–ë–∞—Å“õ–∞', 'reactants': ('Zn', 'NaOH', 'H2O'), 'products': ('Na2[Zn(OH)4]', 'H2'), 'equation': "Zn + 2NaOH + 2H2O -> Na2[Zn(OH)4] + H2"},
}


# --- "–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å" –í–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä ---
TRUE_FALSE_QUIZ_QUESTIONS = [
    ("NaOH + HCl -> NaCl + H2O —Ä–µ–∞–∫—Ü–∏—è—Å—ã –±–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã.", True, None),
    ("–ö“Ø–∫—ñ—Ä—Ç “õ—ã—à“õ—ã–ª—ã–Ω—ã“£ —Ñ–æ—Ä–º—É–ª–∞—Å—ã - H2SO4.", True, None),
    ("–ú–µ—Ç–∞–Ω (CH4) –∂–∞–Ω“ì–∞–Ω–¥–∞ –∏—ñ—Å –≥–∞–∑—ã –º–µ–Ω —Å—É —Ç“Ø–∑—ñ–ª–µ–¥—ñ.", False, "–ú–µ—Ç–∞–Ω –∂–∞–Ω“ì–∞–Ω–¥–∞ –∫”©–º—ñ—Ä“õ—ã—à“õ—ã–ª –≥–∞–∑—ã (CO2) –º–µ–Ω —Å—É —Ç“Ø–∑—ñ–ª–µ–¥—ñ."),
    ("2H2 + O2 -> 2H2O —Ä–µ–∞–∫—Ü–∏—è—Å—ã –¥“±—Ä—ã—Å —Ç–µ“£–µ—Å—Ç—ñ—Ä—ñ–ª–≥–µ–Ω.", True, None),
    ("H2 + O2 -> H2O —Ä–µ–∞–∫—Ü–∏—è—Å—ã –¥“±—Ä—ã—Å —Ç–µ“£–µ—Å—Ç—ñ—Ä—ñ–ª–≥–µ–Ω.", False, "H2 + O2 -> H2O —Ä–µ–∞–∫—Ü–∏—è—Å—ã —Ç–µ“£–µ—Å—Ç—ñ—Ä—ñ–ª–º–µ–≥–µ–Ω. –î“±—Ä—ã—Å—ã: 2H2 + O2 -> 2H2O."),
    ("–ú—ã—Ä—ã—à (Zn) –º—ã—Å—Ç—ã (Cu) CuSO4 –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ–Ω–µ–Ω —ã“ì—ã—Å—Ç—ã—Ä—ã–ø —à—ã“ì–∞—Ä–∞–¥—ã.", True, None),
    ("–ê–ª—Ç—ã–Ω (Au) —Ç“±–∑ “õ—ã—à“õ—ã–ª—ã–º–µ–Ω (HCl) ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å–µ–¥—ñ.", False, "–ê–ª—Ç—ã–Ω - –±–µ–ª—Å–µ–Ω–¥—ñ–ª—ñ–≥—ñ —Ç”©–º–µ–Ω –º–µ—Ç–∞–ª–ª –∂”ô–Ω–µ —Ç“±–∑ “õ—ã—à“õ—ã–ª—ã–º–µ–Ω ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å–ø–µ–π–¥—ñ."),
    ("–°—É “õ—ã—à“õ—ã–ª –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã.", False, "–°—É - –∞–º—Ñ–æ—Ç–µ—Ä–ª—ñ –∑–∞—Ç, —è“ì–Ω–∏ —Ä–µ–∞–∫—Ü–∏—è“ì–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã “õ—ã—à“õ—ã–ª–¥—ã“õ —Ç–∞, –Ω–µ–≥—ñ–∑–¥—ñ–∫ —Ç–µ “õ–∞—Å–∏–µ—Ç –∫”©—Ä—Å–µ—Ç–µ –∞–ª–∞–¥—ã."),
    ("–õ–∞–∫–º—É—Å —Å—ñ–ª—Ç—ñ–ª—ñ–∫ –æ—Ä—Ç–∞–¥–∞ –∫”©–∫ —Ç“Ø—Å–∫–µ –±–æ—è–ª–∞–¥—ã.", True, None),
    ("–û—Ç—Ç–µ–∫—Ç—ñ“£ (O) –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ - 16.", False, "–û—Ç—Ç–µ–∫—Ç—ñ“£ –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ - 8, –∞–ª –∞—Ç–æ–º–¥—ã“õ –º–∞—Å—Å–∞—Å—ã —à–∞–º–∞–º–µ–Ω 16-“ì–∞ —Ç–µ“£."),
    ("–ú–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞ –∑–∞—Ç—Ç—ã“£ –±—ñ—Ä –º–æ–ª—ñ–Ω—ñ“£ –≥—Ä–∞–º–º–º–µ–Ω –∞–ª—ã–Ω“ì–∞–Ω –º–∞—Å—Å–∞—Å—ã–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ (–≥/–º–æ–ª—å).", True, None),
    ("–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ–Ω–¥–µ–≥—ñ –ø–µ—Ä–∏–æ–¥ –Ω”©–º—ñ—Ä—ñ –≤–∞–ª–µ–Ω—Ç—Ç—ñ–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä —Å–∞–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.", False, "–¢–æ–ø –Ω”©–º—ñ—Ä—ñ (–Ω–µ–≥—ñ–∑–≥—ñ —Ç–æ–ø—à–∞ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä—ñ “Ø—à—ñ–Ω) –≤–∞–ª–µ–Ω—Ç—Ç—ñ–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä —Å–∞–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ."),
    ("–û–∫—Å–∏–¥—Ç–µ—Ä - –µ–∫—ñ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ–Ω —Ç“±—Ä–∞—Ç—ã–Ω –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç—Ç–∞—Ä, –æ–ª–∞—Ä–¥—ã“£ –±—ñ—Ä—ñ - —Ç–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ—Å—ñ -2 –±–æ–ª–∞—Ç—ã–Ω –æ—Ç—Ç–µ–∫.", True, None),
    ("“ö“±—Ä–∞–º—ã–Ω–¥–∞ —Å—É—Ç–µ–≥—ñ –±–∞—Ä –±–∞—Ä–ª—ã“õ –∑–∞—Ç—Ç–∞—Ä “õ—ã—à“õ—ã–ª–¥–∞—Ä –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã.", False, "“ö“±—Ä–∞–º—ã–Ω–¥–∞ —Å—É—Ç–µ–≥—ñ –±–∞—Ä, –±—ñ—Ä–∞“õ “õ—ã—à“õ—ã–ª –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–º–∞–π—Ç—ã–Ω –∑–∞—Ç—Ç–∞—Ä“ì–∞ –º—ã—Å–∞–ª: –º–µ—Ç–∞–Ω (CH4) –∂”ô–Ω–µ –∞–º–º–∏–∞–∫ (NH3)."),
    ("–•–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–Ω—ã“£ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã ”ô–¥–µ—Ç—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–Ω—ã –∂–æ“ì–∞—Ä—ã–ª–∞—Ç“õ–∞–Ω–¥–∞ –∞—Ä—Ç–∞–¥—ã.", True, None),
    ("–ò–Ω–≥–∏–±–∏—Ç–æ—Ä–ª–∞—Ä - —Ö–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–Ω—ã —Ç–µ–∑–¥–µ—Ç–µ—Ç—ñ–Ω –∑–∞—Ç—Ç–∞—Ä.", False, "–ò–Ω–≥–∏–±–∏—Ç–æ—Ä–ª–∞—Ä - —Ö–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–Ω—ã –±–∞—è—É–ª–∞—Ç–∞—Ç—ã–Ω –∑–∞—Ç—Ç–∞—Ä."),
    ("–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω —Å—ñ–ª—Ç—ñ–ª—ñ–∫ –æ—Ä—Ç–∞–¥–∞ —Ç–∞“£“õ—É—Ä–∞–π —Ç“Ø—Å–∫–µ –±–æ—è–ª–∞–¥—ã.", True, None),
    ("–ê—Ç–æ–º —Ç–µ–∫ –ø—Ä–æ—Ç–æ–Ω–¥–∞—Ä –º–µ–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥–∞–Ω —Ç“±—Ä–∞–¥—ã.", False, "–ê—Ç–æ–º –ø—Ä–æ—Ç–æ–Ω–¥–∞—Ä–¥–∞–Ω, –Ω–µ–π—Ç—Ä–æ–Ω–¥–∞—Ä–¥–∞–Ω –∂”ô–Ω–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥–∞–Ω —Ç“±—Ä–∞–¥—ã (–Ω–µ–π—Ç—Ä–æ–Ω–¥–∞—Ä—ã –∂–æ“õ —Å—É—Ç–µ–≥—ñ-1 –∏–∑–æ—Ç–æ–ø—ã–Ω “õ–æ—Å–ø–∞“ì–∞–Ω–¥–∞)."),
    ("–ò–∑–æ—Ç–æ–ø—Ç–∞—Ä - –±“±–ª –Ω–µ–π—Ç—Ä–æ–Ω–¥–∞—Ä —Å–∞–Ω—ã ”ô—Ä—Ç“Ø—Ä–ª—ñ –±—ñ—Ä —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ –∞—Ç–æ–º–¥–∞—Ä—ã.", True, None),
    ("“ö–æ—Å—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã - –±—ñ—Ä –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç—Ç–∞–Ω –±—ñ—Ä–Ω–µ—à–µ –±–∞—Å“õ–∞ –∑–∞—Ç—Ç–∞—Ä —Ç“Ø–∑—ñ–ª–µ—Ç—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è.", False, "“ö–æ—Å—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã - –±—ñ—Ä–Ω–µ—à–µ –∂–∞–π –Ω–µ–º–µ—Å–µ –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç—Ç–∞–Ω –±—ñ—Ä –∞–Ω–∞“ì“±—Ä–ª—ã–º –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç —Ç“Ø–∑—ñ–ª–µ—Ç—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è. –ö–µ—Ä—ñ —Ç“±–∂—ã—Ä—ã–º –∞–π—ã—Ä—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã “Ø—à—ñ–Ω –¥“±—Ä—ã—Å."),
    ("–ú–æ–ª—å - –∑–∞—Ç –º”©–ª—à–µ—Ä—ñ–Ω—ñ“£ ”©–ª—à–µ–º –±—ñ—Ä–ª—ñ–≥—ñ.", True, None),
    ("“ö—ã—à“õ—ã–ª –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ –º–µ–Ω —Å—ñ–ª—Ç—ñ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ–Ω –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä“ì–∞–Ω–¥–∞ ”ô—Ä“õ–∞—à–∞–Ω —Ç“±–Ω–±–∞ —Ç“Ø–∑—ñ–ª–µ–¥—ñ.", False, "“ö—ã—à“õ—ã–ª –º–µ–Ω —Å—ñ–ª—Ç—ñ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ–Ω –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä“ì–∞–Ω–¥–∞ —Ç“±–∑ –±–µ–Ω —Å—É —Ç“Ø–∑—ñ–ª–µ–¥—ñ. –¢“±–∑ –µ—Ä—ñ–≥—ñ—à —Ç–µ, –µ—Ä—ñ–º–µ–π—Ç—ñ–Ω –¥–µ –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω."),
    ("–≠–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç—Ç–µ—Ä - –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–ª–µ—Ä—ñ –Ω–µ–º–µ—Å–µ –±–∞–ª“õ—ã–º–∞–ª–∞—Ä—ã —ç–ª–µ–∫—Ç—Ä —Ç–æ–≥—ã–Ω ”©—Ç–∫—ñ–∑–µ—Ç—ñ–Ω –∑–∞—Ç—Ç–∞—Ä.", True, None),
    ("–ö—Ä–µ–º–Ω–∏–π (Si) - —Ç–∏–ø—Ç—ñ–∫ –º–µ—Ç–∞–ª–ª.", False, "–ö—Ä–µ–º–Ω–∏–π –±–µ–π–º–µ—Ç–∞–ª–ª –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã, –¥”ô–ª—ñ—Ä–µ–∫ –∞–π—Ç—Å–∞“õ - –∂–∞—Ä—Ç—ã–ª–∞–π –º–µ—Ç–∞–ª–ª (–Ω–µ–º–µ—Å–µ –º–µ—Ç–∞–ª–ª–æ–∏–¥)."),
    ("–ö–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ–∫ –±–∞–π–ª–∞–Ω—ã—Å –æ—Ä—Ç–∞“õ —ç–ª–µ–∫—Ç—Ä–æ–Ω –∂“±–ø—Ç–∞—Ä—ã –µ—Å–µ–±—ñ–Ω–µ–Ω —Ç“Ø–∑—ñ–ª–µ–¥—ñ.", True, None),
    ("–ê–∑–æ—Ç N2 –º–æ–ª–µ–∫—É–ª–∞—Å—ã–Ω–¥–∞ “Ø—à—Ç—ñ–∫ –∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ–∫ –±–∞–π–ª–∞–Ω—ã—Å –±–∞—Ä.", True, None),
    ("–°—ñ–ª—Ç—ñ–ª–µ—Ä - —Å—É–¥–∞ –µ—Ä–∏—Ç—ñ–Ω –Ω–µ–≥—ñ–∑–¥–µ—Ä.", True, None),
    ("'–ö“Ø–º—ñ—Å –∞–π–Ω–∞' —Ä–µ–∞–∫—Ü–∏—è—Å—ã –∞–ª—å–¥–µ–≥–∏–¥—Ç–µ—Ä–¥—ñ –∞–Ω—ã“õ—Ç–∞—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.", True, None),
    ("–ú“±–Ω–∞–π –∂–µ–∫–µ —Ö–∏–º–∏—è–ª—ã“õ –∑–∞—Ç –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã.", False, "–ú“±–Ω–∞–π - ”ô—Ä—Ç“Ø—Ä–ª—ñ –∫”©–º—ñ—Ä—Å—É—Ç–µ–∫—Ç–µ—Ä–¥—ñ“£ –∫“Ø—Ä–¥–µ–ª—ñ “õ–æ—Å–ø–∞—Å—ã."),
    ("–ê–ª–º–∞—Å –ø–µ–Ω –≥—Ä–∞—Ñ–∏—Ç ”ô—Ä—Ç“Ø—Ä–ª—ñ —Ö–∏–º–∏—è–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –∞—Ç–æ–º–¥–∞—Ä—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã.", False, "–ê–ª–º–∞—Å –ø–µ–Ω –≥—Ä–∞—Ñ–∏—Ç - –∫”©–º—ñ—Ä—Ç–µ–∫—Ç—ñ“£ –∞–ª–ª–æ—Ç—Ä–æ–ø–∏—è–ª—ã“õ —Ç“Ø—Ä”©–∑–≥–µ—Ä—ñ—Å—Ç–µ—Ä—ñ, —è“ì–Ω–∏ –±—ñ—Ä —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ ‚Äì –∫”©–º—ñ—Ä—Ç–µ–∫—Ç—ñ“£ –∞—Ç–æ–º–¥–∞—Ä—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã."),
    ("–ù–∞—Ç—Ä–∏–π–¥—ñ“£ –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ - 11.", True, None),
    ("–°—É –º–æ–ª–µ–∫—É–ª–∞—Å—ã –±—ñ—Ä —Å—É—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω –∂”ô–Ω–µ –µ–∫—ñ –æ—Ç—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã.", False, "–°—É –º–æ–ª–µ–∫—É–ª–∞—Å—ã –µ–∫—ñ —Å—É—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω –∂”ô–Ω–µ –±—ñ—Ä –æ—Ç—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã (H2O)."),
    ("–ê–ª—é–º–∏–Ω–∏–π - –∂–µ—Ä “õ—ã—Ä—Ç—ã—Å—ã–Ω–¥–∞“ì—ã –µ“£ –∫”©–ø —Ç–∞—Ä–∞–ª“ì–∞–Ω –º–µ—Ç–∞–ª–ª.", True, None),
    ("–ò–Ω–µ—Ä—Ç—Ç—ñ –≥–∞–∑–¥–∞—Ä ”ô–¥–µ—Ç—Ç–µ ”©—Ç–µ —Ö–∏–º–∏—è–ª—ã“õ –±–µ–ª—Å–µ–Ω–¥—ñ.", False, "–ò–Ω–µ—Ä—Ç—Ç—ñ –≥–∞–∑–¥–∞—Ä —Ç–æ–ª—Ç—ã—Ä—ã–ª“ì–∞–Ω —Å—ã—Ä—Ç“õ—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ “õ–∞–±–∞—Ç—ã–Ω–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã —Ç”©–º–µ–Ω —Ö–∏–º–∏—è–ª—ã“õ –±–µ–ª—Å–µ–Ω–¥—ñ–ª—ñ–∫–∫–µ –∏–µ."),
    ("pH –º”ô–Ω—ñ 7-–≥–µ —Ç–µ“£ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ “õ—ã—à“õ—ã–ª–¥—ã“õ –æ—Ä—Ç–∞–Ω—ã –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.", False, "pH –º”ô–Ω—ñ 7-–≥–µ —Ç–µ“£ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ –±–µ–π—Ç–∞—Ä–∞–ø –æ—Ä—Ç–∞–Ω—ã –∫”©—Ä—Å–µ—Ç–µ–¥—ñ. “ö—ã—à“õ—ã–ª–¥—ã“õ –æ—Ä—Ç–∞–Ω—ã“£ pH < 7, –∞–ª —Å—ñ–ª—Ç—ñ–ª—ñ–∫—Ç—ñ“£ - pH > 7."),
    ("pH 3 –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ pH 5 –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ—Å—ñ–Ω–µ “õ–∞—Ä–∞“ì–∞–Ω–¥–∞ “õ—ã—à“õ—ã–ª–¥—ã—Ä–∞“õ.", True, None),
    ("–û—Ç—Ç–µ–∫ –∫”©–ø—Ç–µ–≥–µ–Ω “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä—ã–Ω–¥–∞ -2 —Ç–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ—Å—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.", True, None),
    ("–ü—Ä–æ—Ç–æ–Ω –æ“£ –∑–∞—Ä—è–¥“õ–∞ –∏–µ.", True, None),
    ("–ù–µ–π—Ç—Ä–æ–Ω–Ω—ã“£ —ç–ª–µ–∫—Ç—Ä –∑–∞—Ä—è–¥—ã –∂–æ“õ.", True, None),
    ("–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã“£ –º–∞—Å—Å–∞—Å—ã –ø—Ä–æ—Ç–æ–Ω–Ω—ã“£ –º–∞—Å—Å–∞—Å—ã–Ω–∞–Ω –µ–¥”ô—É—ñ—Ä “Ø–ª–∫–µ–Ω.", False, "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã“£ –º–∞—Å—Å–∞—Å—ã –ø—Ä–æ—Ç–æ–Ω–Ω—ã“£ –º–∞—Å—Å–∞—Å—ã–Ω–∞–Ω –µ–¥”ô—É—ñ—Ä –∞–∑."),
]

# --- "–ö”©–ø —Ç–∞“£–¥–∞—É" –í–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä ---
MULTIPLE_CHOICE_QUIZ_QUESTIONS = [
    {
        "question": "–°—É–¥—ã“£ —Ö–∏–º–∏—è–ª—ã“õ —Ç–∞“£–±–∞—Å—ã “õ–∞–Ω–¥–∞–π?",
        "options": ["H2O", "O2H", "HO2", "H2"],
        "correct_answer_index": 0,
        "explanation": "–°—É –µ–∫—ñ —Å—É—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω –∂”ô–Ω–µ –±—ñ—Ä –æ—Ç—Ç–µ–∫ –∞—Ç–æ–º—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã, —Å–æ–Ω–¥—ã“õ—Ç–∞–Ω –æ–Ω—ã“£ —Ö–∏–º–∏—è–ª—ã“õ —Ç–∞“£–±–∞—Å—ã - H2O."
    },
    {
        "question": "–ê–¥–∞–º–Ω—ã“£ –∞—Å“õ–∞–∑–∞–Ω —Å”©–ª—ñ–Ω–¥–µ “õ–∞–Ω–¥–∞–π “õ—ã—à“õ—ã–ª –±–∞—Ä?",
        "options": ["–ö“Ø–∫—ñ—Ä—Ç", "–ê–∑–æ—Ç", "–¢“±–∑", "–°—ñ—Ä–∫–µ"],
        "correct_answer_index": 2,
        "explanation": "–ê—Å“õ–∞–∑–∞–Ω —Å”©–ª—ñ–Ω–¥–µ —Ç–∞–º–∞“õ—Ç—ã “õ–æ—Ä—ã—Ç—É“ì–∞ –∫”©–º–µ–∫—Ç–µ—Å–µ—Ç—ñ–Ω —Ç“±–∑ “õ—ã—à“õ—ã–ª—ã (HCl) –±–∞—Ä."
    },
    {
        "question": "“ö–∞–π –∏–Ω–µ—Ä—Ç—Ç—ñ –≥–∞–∑ –µ“£ –∂–µ“£—ñ–ª –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã?",
        "options": ["–ì–µ–ª–∏–π", "–ù–µ–æ–Ω", "–ê—Ä–≥–æ–Ω", "–ö—Ä–∏–ø—Ç–æ–Ω"],
        "correct_answer_index": 0,
        "explanation": "–ì–µ–ª–∏–π (He) –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ 2 –∂”ô–Ω–µ –µ“£ –∂–µ“£—ñ–ª –∏–Ω–µ—Ä—Ç—Ç—ñ –≥–∞–∑ –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã."
    },
    {
        "question": "“ö–∞–π —Ñ–æ—Ä–º—É–ª–∞ –∫”©–º—ñ—Ä—Ç–µ–∫(IV) –æ–∫—Å–∏–¥—ñ–Ω–µ —Å”ô–π–∫–µ—Å –∫–µ–ª–µ–¥—ñ?",
        "options": ["CO", "CO2", "C2O", "CH4"],
        "correct_answer_index": 1,
        "explanation": "–ö”©–º—ñ—Ä—Ç–µ–∫(IV) –æ–∫—Å–∏–¥—ñ –∫”©–º—ñ—Ä“õ—ã—à“õ—ã–ª –≥–∞–∑—ã —Ä–µ—Ç—ñ–Ω–¥–µ –¥–µ –±–µ–ª–≥—ñ–ª—ñ, –æ–Ω—ã“£ —Ñ–æ—Ä–º—É–ª–∞—Å—ã - CO2, –º“±–Ω–¥–∞ –∫”©–º—ñ—Ä—Ç–µ–∫—Ç—ñ“£ —Ç–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ—Å—ñ +4."
    },
    {
        "question": "“ö–∞–π –º–µ—Ç–∞–ª–ª –±–æ–ª–∞—Ç—Ç—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã?",
        "options": ["–ú—ã—Å", "–ê–ª—é–º–∏–Ω–∏–π", "–¢–µ–º—ñ—Ä", "–ú—ã—Ä—ã—à"],
        "correct_answer_index": 2,
        "explanation": "–ë–æ–ª–∞—Ç - —Ç–µ–º—ñ—Ä –Ω–µ–≥—ñ–∑—ñ–Ω–¥–µ–≥—ñ “õ–æ—Ä—ã—Ç–ø–∞, –æ“ì–∞–Ω –∫”©–º—ñ—Ä—Ç–µ–∫ –∂”ô–Ω–µ –±–∞—Å“õ–∞ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä “õ–æ—Å—ã–ª“ì–∞–Ω."
    },
    {
        "question": "“ö—ã—à“õ—ã–ª –º–µ–Ω –Ω–µ–≥—ñ–∑ ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å–∫–µ–Ω–¥–µ –Ω–µ —Ç“Ø–∑—ñ–ª–µ–¥—ñ?",
        "options": ["–¢“±–∑ –∂”ô–Ω–µ —Å—É", "–û–∫—Å–∏–¥ –∂”ô–Ω–µ —Å—É", "–ù–µ–≥—ñ–∑ –∂”ô–Ω–µ —Å—É", "“ö—ã—à“õ—ã–ª –∂”ô–Ω–µ —Ç“±–∑"],
        "correct_answer_index": 0,
        "explanation": "“ö—ã—à“õ—ã–ª –º–µ–Ω –Ω–µ–≥—ñ–∑ –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã —Ä–µ–∞–∫—Ü–∏—è –±–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã –¥–µ–ø –∞—Ç–∞–ª–∞–¥—ã, –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω–¥–µ —Ç“±–∑ –±–µ–Ω —Å—É —Ç“Ø–∑—ñ–ª–µ–¥—ñ."
    },
    {
        "question": "–¢”©–º–µ–Ω–¥–µ–≥—ñ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ “õ–∞–π—Å—ã—Å—ã —Å—ñ–ª—Ç—ñ–ª—ñ–∫ –º–µ—Ç–∞–ª–ª?",
        "options": ["–ö–∞–ª—å—Ü–∏–π", "–ú–∞–≥–Ω–∏–π", "–ù–∞—Ç—Ä–∏–π", "–ê–ª—é–º–∏–Ω–∏–π"],
        "correct_answer_index": 2,
        "explanation": "–ù–∞—Ç—Ä–∏–π (Na) —Å—ñ–ª—Ç—ñ–ª—ñ–∫ –º–µ—Ç–∞–ª–¥–∞—Ä“ì–∞ –∂–∞—Ç–∞–¥—ã (–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ–Ω—ñ“£ 1-—Ç–æ–±—ã)."
    },
    {
        "question": "–û—Ç—Ç–µ–∫ (O2) –º–æ–ª–µ–∫—É–ª–∞—Å—ã–Ω–¥–∞“ì—ã –∞—Ç–æ–º–¥–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞ “õ–∞–Ω–¥–∞–π –±–∞–π–ª–∞–Ω—ã—Å —Ç“Ø–∑—ñ–ª–µ–¥—ñ?",
        "options": ["–ò–æ–Ω–¥—ã“õ", "–ö–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ –¥–∞—Ä–∞", "–ö–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ “õ–æ—Å", "–ú–µ—Ç–∞–ª–¥—ã“õ"],
        "correct_answer_index": 2,
        "explanation": "–û—Ç—Ç–µ–∫ –º–æ–ª–µ–∫—É–ª–∞—Å—ã–Ω–¥–∞ –µ–∫—ñ –æ—Ç—Ç–µ–∫ –∞—Ç–æ–º—ã –∫–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ “õ–æ—Å –±–∞–π–ª–∞–Ω—ã—Å–ø–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å“õ–∞–Ω."
    },
    {
        "question": "“ö–∞–π –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–Ω—ñ“£ pH –º”ô–Ω—ñ 7-–¥–µ–Ω –∂–æ“ì–∞—Ä—ã?",
        "options": ["“ö—ã—à“õ—ã–ª–¥—ã“õ", "–ë–µ–π—Ç–∞—Ä–∞–ø", "–°—ñ–ª—Ç—ñ–ª—ñ–∫", "–ë—É—Ñ–µ—Ä–ª—ñ–∫"],
        "correct_answer_index": 2,
        "explanation": "–°—ñ–ª—Ç—ñ–ª—ñ–∫ –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–ª–µ—Ä–¥—ñ“£ pH –º”ô–Ω—ñ 7-–¥–µ–Ω –∂–æ“ì–∞—Ä—ã –±–æ–ª–∞–¥—ã."
    },
    {
        "question": "”®–Ω–µ—Ä–∫”ô—Å—ñ–ø—Ç–µ –æ—Ç—Ç–µ–∫—Ç—ñ –∞–ª—É “Ø—à—ñ–Ω “õ–∞–Ω–¥–∞–π –ø—Ä–æ—Ü–µ—Å—Å “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?",
        "options": ["–°—É–¥—ã“£ —ç–ª–µ–∫—Ç—Ä–æ–ª–∏–∑—ñ", "–ê—É–∞–Ω—ã —Ñ—Ä–∞–∫—Ü–∏—è–ª—ã“õ –∞–π–¥–∞—É", "–ú“±–Ω–∞–π –∫—Ä–µ–∫–∏–Ω–≥—ñ", "–°—É—Ç–µ–∫ –ø–µ–Ω –∞–∑–æ—Ç –æ–∫—Å–∏–¥—ñ–Ω–µ–Ω —Å–∏–Ω—Ç–µ–∑–¥–µ—É"],
        "correct_answer_index": 1,
        "explanation": "”®–Ω–µ—Ä–∫”ô—Å—ñ–ø—Ç–µ –æ—Ç—Ç–µ–∫—Ç—ñ —Å“±–π—ã“õ –∞—É–∞–Ω—ã —Ñ—Ä–∞–∫—Ü–∏—è–ª—ã“õ –∞–π–¥–∞—É ”ô–¥—ñ—Å—ñ–º–µ–Ω –∞–ª–∞–¥—ã."
    },
]

# --- –î”ô—Ä—ñ—Å—Ç–µ—Ä–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –¥–µ—Ä–µ–∫—Ç–µ—Ä (HTML FORMAT, –ë–ï–ó SUB/SUP) ---
LECTURES_DATA = {
    "intro_chem": {
        "title": "–•–∏–º–∏—è“ì–∞ –∫—ñ—Ä—ñ—Å–ø–µ",
        "content": (
            "<b>üìö –•–∏–º–∏—è“ì–∞ –∫—ñ—Ä—ñ—Å–ø–µ</b>\n\n"
            "–•–∏–º–∏—è ‚Äî –±“±–ª –∑–∞—Ç—Ç–∞—Ä, –æ–ª–∞—Ä–¥—ã“£ “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ, “õ“±—Ä—ã–ª—ã—Å—ã –∂”ô–Ω–µ –∞–π–Ω–∞–ª—ã–º–¥–∞—Ä—ã, "
            "—Å–æ–Ω–¥–∞–π-–∞“õ –æ—Å—ã –∞–π–Ω–∞–ª—ã–º–¥–∞—Ä –±–∞“ì—ã–Ω–∞—Ç—ã–Ω –∑–∞“£–¥–∞—Ä —Ç—É—Ä–∞–ª—ã “ì—ã–ª—ã–º.\n\n"
            "–ù–µ–≥—ñ–∑–≥—ñ “±“ì—ã–º–¥–∞—Ä:\n"
            "- <b>–ê—Ç–æ–º:</b> –•–∏–º–∏—è–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ –µ“£ –∫—ñ—à—ñ –±”©–ª—à–µ–≥—ñ.\n"
            "- <b>–ú–æ–ª–µ–∫—É–ª–∞:</b> –ï–∫—ñ –Ω–µ–º–µ—Å–µ –æ–¥–∞–Ω –¥–∞ –∫”©–ø –∞—Ç–æ–º–Ω–∞–Ω —Ç“±—Ä–∞—Ç—ã–Ω –±”©–ª—à–µ–∫.\n"
            "- <b>–•–∏–º–∏—è–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç:</b> –Ø–¥—Ä–æ –∑–∞—Ä—è–¥—ã –±—ñ—Ä–¥–µ–π –∞—Ç–æ–º–¥–∞—Ä –∂–∏—ã–Ω—Ç—ã“ì—ã.\n"
            "- <b>–ó–∞—Ç:</b> –§–∏–∑–∏–∫–∞–ª—ã“õ –¥–µ–Ω–µ–ª–µ—Ä –Ω–µ–¥–µ–Ω —Ç“±—Ä–∞—Ç—ã–Ω—ã.\n\n"
            "–•–∏–º–∏—è –∞—Ç–æ–º–¥–∞—Ä–¥—ã“£ –º–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä“ì–∞ “õ–∞–ª–∞–π “õ–æ—Å—ã–ª–∞—Ç—ã–Ω—ã–Ω, –∑–∞—Ç—Ç–∞—Ä–¥—ã“£ –±—ñ—Ä-–±—ñ—Ä—ñ–º–µ–Ω “õ–∞–ª–∞–π ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å–µ—Ç—ñ–Ω—ñ–Ω, "
            "–∂”ô–Ω–µ –±“±–ª –ø—Ä–æ—Ü–µ—Å—Ç–µ—Ä–¥—ñ —Ç”ô–∂—ñ—Ä–∏–±–µ–¥–µ “õ–∞–ª–∞–π “õ–æ–ª–¥–∞–Ω—É“ì–∞ –±–æ–ª–∞—Ç—ã–Ω—ã–Ω –∑–µ—Ä—Ç—Ç–µ–π–¥—ñ."
        )
    },
    "periodic_law": {
        "title": "–ü–µ—Ä–∏–æ–¥—Ç—ã“õ –ó–∞“£",
        "content": (
            "<b>üìö –ü–µ—Ä–∏–æ–¥—Ç—ã“õ –ó–∞“£ –∂”ô–Ω–µ –ú–µ–Ω–¥–µ–ª–µ–µ–≤ –ö–µ—Å—Ç–µ—Å—ñ</b>\n\n"
            "–î.–ò. –ú–µ–Ω–¥–µ–ª–µ–µ–≤ 1869 –∂—ã–ª—ã –∞—à“õ–∞–Ω.\n"
            "<b>–¢“±–∂—ã—Ä—ã–º–¥–∞–º–∞—Å—ã:</b> –•–∏–º–∏—è–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ, —Å–æ–Ω–¥–∞–π-–∞“õ –æ–ª–∞—Ä–¥—ã“£ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä—ã–Ω—ã“£ —Ñ–æ—Ä–º–∞–ª–∞—Ä—ã –º–µ–Ω “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ "
            "–æ–ª–∞—Ä–¥—ã“£ –∞—Ç–æ–º–¥–∞—Ä—ã–Ω—ã“£ —è–¥—Ä–æ –∑–∞—Ä—è–¥—Ç–∞—Ä—ã–Ω—ã“£ —à–∞–º–∞—Å—ã–Ω–∞ –ø–µ—Ä–∏–æ–¥—Ç—ã —Ç“Ø—Ä–¥–µ —Ç”ô—É–µ–ª–¥—ñ –±–æ–ª–∞–¥—ã.\n\n"
            "<b>–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ:</b> –ó–∞“£–Ω—ã“£ –≥—Ä–∞—Ñ–∏–∫–∞–ª—ã“õ –∫”©—Ä—ñ–Ω—ñ—Å—ñ. –≠–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä–ª–µ—Ä—ñ–Ω—ñ“£ ”©—Å—É—ñ –±–æ–π—ã–Ω—à–∞ –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω "
            "–∂”ô–Ω–µ –ø–µ—Ä–∏–æ–¥—Ç–∞—Ä –º–µ–Ω —Ç–æ–ø—Ç–∞—Ä“ì–∞ —Ç–æ–ø—Ç–∞—Å—Ç—ã—Ä—ã–ª“ì–∞–Ω.\n"
            "- <b>–ü–µ—Ä–∏–æ–¥:</b> –≠–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ –∫”©–ª–¥–µ–Ω–µ“£ “õ–∞—Ç–∞—Ä—ã.\n"
            "- <b>–¢–æ–ø:</b> “∞“õ—Å–∞—Å “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ –±–∞—Ä —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ —Ç—ñ–∫ –±–∞“ì–∞–Ω—ã.\n\n"
            "–ö–µ—Å—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä –º–µ–Ω –æ–ª–∞—Ä–¥—ã“£ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä—ã–Ω—ã“£ “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ–Ω –±–æ–ª–∂–∞—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ."
        )
    },
    "reaction_types": {
       "title": "–•–∏–º–∏—è–ª—ã“õ –†–µ–∞–∫—Ü–∏—è–ª–∞—Ä–¥—ã“£ –¢“Ø—Ä–ª–µ—Ä—ñ",
        "content": (
            "<b>üìö –•–∏–º–∏—è–ª—ã“õ –†–µ–∞–∫—Ü–∏—è–ª–∞—Ä–¥—ã“£ –ù–µ–≥—ñ–∑–≥—ñ –¢“Ø—Ä–ª–µ—Ä—ñ</b>\n\n"
            "–†–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä –º–µ–Ω ”©–Ω—ñ–º–¥–µ—Ä–¥—ñ“£ —Å–∞–Ω—ã –º–µ–Ω “õ“±—Ä–∞–º—ã –±–æ–π—ã–Ω—à–∞ –∂—ñ–∫—Ç–µ—É:\n\n"
            "1Ô∏è‚É£ <b>“ö–æ—Å—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã:</b> A + B ‚Üí AB\n"
            "   –ë—ñ—Ä–Ω–µ—à–µ –∑–∞—Ç—Ç–∞–Ω –±—ñ—Ä –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç —Ç“Ø–∑—ñ–ª–µ–¥—ñ.\n"
            "   <i>–ú—ã—Å–∞–ª:</i> 2H2 + O2 ‚Üí 2H2O\n\n" # H2O –≤–º–µ—Å—Ç–æ H<sub>2</sub>O
            "2Ô∏è‚É£ <b>–ê–π—ã—Ä—ã–ª—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã:</b> AB ‚Üí A + B\n"
            "   –ë—ñ—Ä –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç—Ç–∞–Ω –±—ñ—Ä–Ω–µ—à–µ –∂–∞“£–∞ –∑–∞—Ç —Ç“Ø–∑—ñ–ª–µ–¥—ñ.\n"
            "   <i>–ú—ã—Å–∞–ª:</i> CaCO3 ‚Üí CaO + CO2\n\n" # CaCO3, CO2 –≤–º–µ—Å—Ç–æ <sub>
            "3Ô∏è‚É£ <b>–û—Ä—ã–Ω–±–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã:</b> A + BC ‚Üí AC + B\n"
            "   –ñ–∞–π –∑–∞—Ç—Ç—ã“£ –∞—Ç–æ–º–¥–∞—Ä—ã –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç—Ç–∞“ì—ã —ç–ª–µ–º–µ–Ω—Ç –∞—Ç–æ–º–¥–∞—Ä—ã–Ω –∞–ª–º–∞—Å—Ç—ã—Ä–∞–¥—ã.\n"
            "   <i>–ú—ã—Å–∞–ª:</i> Zn + CuSO4 ‚Üí ZnSO4 + Cu\n\n" # CuSO4, ZnSO4 –≤–º–µ—Å—Ç–æ <sub>
            "4Ô∏è‚É£ <b>–ê–ª–º–∞—Å—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã:</b> AB + CD ‚Üí AD + CB\n"
            "   –ï–∫—ñ –∫“Ø—Ä–¥–µ–ª—ñ –∑–∞—Ç “õ“±—Ä–∞–º–¥–∞—Å –±”©–ª—ñ–∫—Ç–µ—Ä—ñ–º–µ–Ω –∞–ª–º–∞—Å–∞–¥—ã.\n"
            "   <i>–ú—ã—Å–∞–ª:</i> NaOH + HCl ‚Üí NaCl + H2O" # H2O –≤–º–µ—Å—Ç–æ <sub>
         )
     },
    "atom_structure": {
        "title": "–ê—Ç–æ–º “õ“±—Ä—ã–ª—ã—Å—ã",
        "content": (
            "<b>üìö –ê—Ç–æ–º “õ“±—Ä—ã–ª—ã—Å—ã</b>\n\n"
            "–ê—Ç–æ–º - —Ö–∏–º–∏—è–ª—ã“õ —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ –µ“£ –∫—ñ—à—ñ –±”©–ª—à–µ–≥—ñ.\n"
            "–û–ª –æ—Ä—Ç–∞–ª—ã“õ <b>—è–¥—Ä–æ–¥–∞–Ω</b> –∂”ô–Ω–µ –æ–Ω—ã –∞–π–Ω–∞–ª–∞ “õ–æ–∑“ì–∞–ª–∞—Ç—ã–Ω <b>—ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥–∞–Ω</b> —Ç“±—Ä–∞–¥—ã.\n\n"
            "- <b>–Ø–¥—Ä–æ:</b> –û“£ –∑–∞—Ä—è–¥—Ç–∞–ª“ì–∞–Ω <b>–ø—Ä–æ—Ç–æ–Ω–¥–∞—Ä–¥–∞–Ω</b> (p+) –∂”ô–Ω–µ –∑–∞—Ä—è–¥—ã –∂–æ“õ <b>–Ω–µ–π—Ç—Ä–æ–Ω–¥–∞—Ä–¥–∞–Ω</b> (n0) —Ç“±—Ä–∞–¥—ã.\n" # p+, n0 –≤–º–µ—Å—Ç–æ <sup>
            "- <b>–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä (e-):</b> –¢–µ—Ä—ñ—Å –∑–∞—Ä—è–¥—Ç–∞–ª“ì–∞–Ω –∂”ô–Ω–µ —è–¥—Ä–æ–Ω—ã –±–µ–ª–≥—ñ–ª—ñ –±—ñ—Ä <b>—ç–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ “õ–∞–±–∞—Ç—Ç–∞—Ä–¥–∞</b> (—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞–ª—ã“õ –¥–µ“£–≥–µ–π–ª–µ—Ä–¥–µ) –∞–π–Ω–∞–ª–∞–¥—ã.\n\n" # e- –≤–º–µ—Å—Ç–æ <sup>
            "–ê—Ç–æ–º–¥–∞“ì—ã –ø—Ä–æ—Ç–æ–Ω–¥–∞—Ä —Å–∞–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ <b>–∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ–Ω</b> (Z) –∞–Ω—ã“õ—Ç–∞–π–¥—ã.\n"
            "–ü—Ä–æ—Ç–æ–Ω–¥–∞—Ä –º–µ–Ω –Ω–µ–π—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã“£ –∂–∞–ª–ø—ã —Å–∞–Ω—ã <b>–º–∞—Å—Å–∞–ª—ã“õ —Å–∞–Ω–¥—ã</b> (A) –±–µ—Ä–µ–¥—ñ."
        )
    },
    "chemical_bonding": {
        "title": "–•–∏–º–∏—è–ª—ã“õ –±–∞–π–ª–∞–Ω—ã—Å",
        "content": (
            "<b>üìö –•–∏–º–∏—è–ª—ã“õ –±–∞–π–ª–∞–Ω—ã—Å</b>\n\n"
            "–ê—Ç–æ–º–¥–∞—Ä–¥—ã“£ –º–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä –º–µ–Ω –∫—Ä–∏—Å—Ç–∞–ª–¥–∞—Ä“ì–∞ –±—ñ—Ä—ñ–≥—É —Ç”ô—Å—ñ–ª—ñ.\n"
            "–ù–µ–≥—ñ–∑–≥—ñ —Ç“Ø—Ä–ª–µ—Ä—ñ:\n"
            "1.  <b>–ò–æ–Ω–¥—ã“õ:</b> –ú–µ—Ç–∞–ª–ª –º–µ–Ω –±–µ–π–º–µ—Ç–∞–ª–ª –∞—Ç–æ–º–¥–∞—Ä—ã –∞—Ä–∞—Å—ã–Ω–¥–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã –±–µ—Ä—É-–∞–ª—É –∞—Ä“õ—ã–ª—ã —Ç“Ø–∑—ñ–ª–µ–¥—ñ (–º—ã—Å., <code>NaCl</code>).\n"
            "2.  <b>–ö–æ–≤–∞–ª–µ–Ω—Ç—Ç—ñ–∫:</b> –ê—Ç–æ–º–¥–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã –æ—Ä—Ç–∞“õ—Ç–∞—Å—Ç—ã—Ä—É –∞—Ä“õ—ã–ª—ã —Ç“Ø–∑—ñ–ª–µ–¥—ñ.\n"
            "    - <i>–ü–æ–ª—è—Ä—Å—ã–∑:</i> –ë—ñ—Ä–¥–µ–π –±–µ–π–º–µ—Ç–∞–ª–ª –∞—Ç–æ–º–¥–∞—Ä—ã –∞—Ä–∞—Å—ã–Ω–¥–∞ (–º—ã—Å., <code>H2</code>, <code>O2</code>).\n" # H2, O2 –≤–º–µ—Å—Ç–æ <sub>
            "    - <i>–ü–æ–ª—è—Ä–ª—ã:</i> ”ò—Ä—Ç“Ø—Ä–ª—ñ –±–µ–π–º–µ—Ç–∞–ª–ª –∞—Ç–æ–º–¥–∞—Ä—ã –∞—Ä–∞—Å—ã–Ω–¥–∞ (–º—ã—Å., <code>H2O</code>, <code>HCl</code>).\n" # H2O –≤–º–µ—Å—Ç–æ <sub>
            "3.  <b>–ú–µ—Ç–∞–ª–¥—ã“õ:</b> –ú–µ—Ç–∞–ª–ª –∞—Ç–æ–º–¥–∞—Ä—ã –º–µ–Ω –æ—Ä—Ç–∞“õ —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞ —Ç“Ø–∑—ñ–ª–µ–¥—ñ.\n"
            "4.  <b>–°—É—Ç–µ–∫—Ç—ñ–∫:</b> –°—É—Ç–µ–∫ –∞—Ç–æ–º—ã –º–µ–Ω —ç–ª–µ–∫—Ç—Ä—Ç–µ—Ä—ñ—Å—Ç—ñ–ª—ñ–≥—ñ –∂–æ“ì–∞—Ä—ã —ç–ª–µ–º–µ–Ω—Ç (O, N, F) –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –µ—Ä–µ–∫—à–µ –±–∞–π–ª–∞–Ω—ã—Å."
        )
    },
    "mole_concept": {
        "title": "–ú–æ–ª—å “±“ì—ã–º—ã",
        "content": (
            "<b>üìö –ú–æ–ª—å “±“ì—ã–º—ã –∂”ô–Ω–µ –ê–≤–æ–≥–∞–¥—Ä–æ —Å–∞–Ω—ã</b>\n\n"
            "<b>–ú–æ–ª—å</b> - –∑–∞—Ç –º”©–ª—à–µ—Ä—ñ–Ω—ñ“£ ”©–ª—à–µ–º –±—ñ—Ä–ª—ñ–≥—ñ.\n"
            "–ë—ñ—Ä –º–æ–ª—å –∑–∞—Ç—Ç–∞ <b>–ê–≤–æ–≥–∞–¥—Ä–æ —Å–∞–Ω—ã–Ω–∞ (N_A)</b> —Ç–µ“£ “õ“±—Ä—ã–ª—ã–º–¥—ã“õ –±”©–ª—à–µ–∫—Ç–µ—Ä (–∞—Ç–æ–º–¥–∞—Ä, –º–æ–ª–µ–∫—É–ª–∞–ª–∞—Ä, –∏–æ–Ω–¥–∞—Ä) –±–æ–ª–∞–¥—ã.\n\n"
            "<code>N_A ‚âà 6.022 * 10^23 –º–æ–ª—å^-1</code>\n\n" # –ò—Å–ø–æ–ª—å–∑—É–µ–º ^ –≤–º–µ—Å—Ç–æ <sup>
            "–ú–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞ (M) - –±—ñ—Ä –º–æ–ª—å –∑–∞—Ç—Ç—ã“£ –≥—Ä–∞–º–º–µ–Ω –∞–ª—ã–Ω“ì–∞–Ω –º–∞—Å—Å–∞—Å—ã (–≥/–º–æ–ª—å). –°–∞–Ω–¥—ã“õ –º”ô–Ω—ñ —Å–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –º–æ–ª–µ–∫—É–ª–∞–ª—ã“õ (–Ω–µ–º–µ—Å–µ –∞—Ç–æ–º–¥—ã“õ) –º–∞—Å—Å–∞“ì–∞ —Ç–µ“£.\n\n"
            "–ë“±–ª “±“ì—ã–º–¥–∞—Ä —Ö–∏–º–∏—è–ª—ã“õ –µ—Å–µ–ø—Ç–µ—É–ª–µ—Ä “Ø—à—ñ–Ω ”©—Ç–µ –º–∞“£—ã–∑–¥—ã."
        )
    },
    "periodic_trends": {
        "title": "–ü–µ—Ä–∏–æ–¥—Ç—ã“õ –∑–∞“£–¥—ã–ª—ã“õ—Ç–∞—Ä",
        "content": (
            "<b>üìö –ü–µ—Ä–∏–æ–¥—Ç—ã“õ –∫–µ—Å—Ç–µ–¥–µ–≥—ñ –∑–∞“£–¥—ã–ª—ã“õ—Ç–∞—Ä</b>\n\n"
            "–≠–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ –∫–µ—Å—Ç–µ–¥–µ –ø–µ—Ä–∏–æ–¥—Ç—ã —Ç“Ø—Ä–¥–µ ”©–∑–≥–µ—Ä–µ–¥—ñ:\n"
            "- <b>–ê—Ç–æ–º —Ä–∞–¥–∏—É—Å—ã:</b>\n"
            "    - –¢–æ–ø –±–æ–π—ã–Ω—à–∞ –∂–æ“ì–∞—Ä—ã–¥–∞–Ω —Ç”©–º–µ–Ω <i>–∞—Ä—Ç–∞–¥—ã</i>.\n"
            "    - –ü–µ—Ä–∏–æ–¥ –±–æ–π—ã–Ω—à–∞ —Å–æ–ª–¥–∞–Ω –æ“£“ì–∞ <i>–∫–µ–º–∏–¥—ñ</i>.\n"
            "- <b>–ò–æ–Ω–¥–∞–Ω—É —ç–Ω–µ—Ä–≥–∏—è—Å—ã</b> (—ç–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã –±”©–ª—ñ–ø –∞–ª—É“ì–∞ “õ–∞–∂–µ—Ç —ç–Ω–µ—Ä–≥–∏—è):\n"
            "    - –¢–æ–ø –±–æ–π—ã–Ω—à–∞ –∂–æ“ì–∞—Ä—ã–¥–∞–Ω —Ç”©–º–µ–Ω <i>–∫–µ–º–∏–¥—ñ</i>.\n"
            "    - –ü–µ—Ä–∏–æ–¥ –±–æ–π—ã–Ω—à–∞ —Å–æ–ª–¥–∞–Ω –æ“£“ì–∞ <i>–∞—Ä—Ç–∞–¥—ã</i>.\n"
            "- <b>–≠–ª–µ–∫—Ç—Ä—Ç–µ—Ä—ñ—Å—Ç—ñ–ª—ñ–∫</b> (–±–∞–π–ª–∞–Ω—ã—Å—Ç–∞“ì—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã —Ç–∞—Ä—Ç—É “õ–∞–±—ñ–ª–µ—Ç—ñ):\n"
            "    - –¢–æ–ø –±–æ–π—ã–Ω—à–∞ –∂–æ“ì–∞—Ä—ã–¥–∞–Ω —Ç”©–º–µ–Ω <i>–∫–µ–º–∏–¥—ñ</i>.\n"
            "    - –ü–µ—Ä–∏–æ–¥ –±–æ–π—ã–Ω—à–∞ —Å–æ–ª–¥–∞–Ω –æ“£“ì–∞ <i>–∞—Ä—Ç–∞–¥—ã</i>.\n\n"
            "–ë“±–ª –∑–∞“£–¥—ã–ª—ã“õ—Ç–∞—Ä —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ —Ö–∏–º–∏—è–ª—ã“õ –±–µ–ª—Å–µ–Ω–¥—ñ–ª—ñ–≥—ñ–Ω –±–æ–ª–∂–∞—É“ì–∞ –∫”©–º–µ–∫—Ç–µ—Å–µ–¥—ñ."
        )
    },
    "oxidation_states": {
        "title": "–¢–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ–ª–µ—Ä—ñ –∂”ô–Ω–µ –¢–¢–†",
        "content": (
            "<b>üìö –¢–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ–ª–µ—Ä—ñ –∂”ô–Ω–µ –¢–¢–†</b>\n\n"
            "<b>–¢–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ—Å—ñ (—Ç.–¥.)</b> - –∞—Ç–æ–º–Ω—ã“£ —à–∞—Ä—Ç—Ç—ã –∑–∞—Ä—è–¥—ã, –µ–≥–µ—Ä –±–∞–π–ª–∞–Ω—ã—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä—ã —Ç–æ–ª—ã“ì—ã–º–µ–Ω —ç–ª–µ–∫—Ç—Ä—Ç–µ—Ä—ñ—Å—Ç—ñ–ª—ñ–≥—ñ –∂–æ“ì–∞—Ä—ã –∞—Ç–æ–º“ì–∞ –∞—É—ã—Å–∞–¥—ã –¥–µ–ø –µ—Å–µ–ø—Ç–µ—Å–µ–∫.\n\n"
            "<b>–¢–æ—Ç—ã“ì—É-—Ç–æ—Ç—ã“õ—Å—ã–∑–¥–∞–Ω—É —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã (–¢–¢–†)</b> - —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–¥—ñ“£ —Ç–æ—Ç—ã“ì—É –¥”ô—Ä–µ–∂–µ–ª–µ—Ä—ñ ”©–∑–≥–µ—Ä–µ –∂“Ø—Ä–µ—Ç—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä.\n"
            "- <b>–¢–æ—Ç—ã“ì—É:</b> –≠–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã –±–µ—Ä—É –ø—Ä–æ—Ü–µ—Å—ñ (—Ç.–¥. <i>–∂–æ“ì–∞—Ä—ã–ª–∞–π–¥—ã</i>).\n"
            "- <b>–¢–æ—Ç—ã“õ—Å—ã–∑–¥–∞–Ω—É:</b> –≠–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã “õ–æ—Å—ã–ø –∞–ª—É –ø—Ä–æ—Ü–µ—Å—ñ (—Ç.–¥. <i>—Ç”©–º–µ–Ω–¥–µ–π–¥—ñ</i>).\n"
            "- <b>–¢–æ—Ç—ã“õ—Ç—ã—Ä“ì—ã—à:</b> –≠–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã “õ–æ—Å—ã–ø –∞–ª–∞—Ç—ã–Ω –∑–∞—Ç (”©–∑—ñ <i>—Ç–æ—Ç—ã“õ—Å—ã–∑–¥–∞–Ω–∞–¥—ã</i>).\n"
            "- <b>–¢–æ—Ç—ã“õ—Å—ã–∑–¥–∞–Ω–¥—ã—Ä“ì—ã—à:</b> –≠–ª–µ–∫—Ç—Ä–æ–Ω–¥–∞—Ä–¥—ã –±–µ—Ä–µ—Ç—ñ–Ω –∑–∞—Ç (”©–∑—ñ <i>—Ç–æ—Ç—ã“ì–∞–¥—ã</i>)."
        )
    },
    "acids_bases_ph": {
        "title": "“ö—ã—à“õ—ã–ª–¥–∞—Ä, –ù–µ–≥—ñ–∑–¥–µ—Ä, pH",
        "content": (
            "<b>üìö “ö—ã—à“õ—ã–ª–¥–∞—Ä, –ù–µ–≥—ñ–∑–¥–µ—Ä –∂”ô–Ω–µ pH</b>\n\n"
            "- <b>“ö—ã—à“õ—ã–ª–¥–∞—Ä:</b> –°—É–ª—ã –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–¥–µ —Å—É—Ç–µ–∫ –∏–æ–Ω–¥–∞—Ä—ã–Ω (H+) –±”©–ª–µ—Ç—ñ–Ω –∑–∞—Ç—Ç–∞—Ä (–º—ã—Å., <code>HCl</code>, <code>H2SO4</code>). “ö—ã—à“õ—ã–ª –¥”ô–º–¥—ñ, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç“Ø—Å—ñ–Ω ”©–∑–≥–µ—Ä—Ç–µ–¥—ñ (–ª–∞–∫–º—É—Å - “õ—ã–∑—ã–ª).\n" # H+, H2SO4 –≤–º–µ—Å—Ç–æ sup/sub
            "- <b>–ù–µ–≥—ñ–∑–¥–µ—Ä:</b> –°—É–ª—ã –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–¥–µ –≥–∏–¥—Ä–æ–∫—Å–∏–¥ –∏–æ–Ω–¥–∞—Ä—ã–Ω (OH-) –±”©–ª–µ—Ç—ñ–Ω –Ω–µ–º–µ—Å–µ –ø—Ä–æ—Ç–æ–Ω–¥—ã (H+) “õ–æ—Å—ã–ø –∞–ª–∞—Ç—ã–Ω –∑–∞—Ç—Ç–∞—Ä (–º—ã—Å., <code>NaOH</code>, <code>NH3</code>). –°–∞–±—ã–Ω —Ç”ô—Ä—ñ–∑–¥—ñ, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç“Ø—Å—ñ–Ω ”©–∑–≥–µ—Ä—Ç–µ–¥—ñ (–ª–∞–∫–º—É—Å - –∫”©–∫, —Ñ–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω - —Ç–∞“£“õ—É—Ä–∞–π).\n" # OH-, H+, NH3 –≤–º–µ—Å—Ç–æ sup/sub
            "- <b>pH:</b> –ï—Ä—ñ—Ç—ñ–Ω–¥—ñ–Ω—ñ“£ “õ—ã—à“õ—ã–ª–¥—ã“ì—ã–Ω –Ω–µ–º–µ—Å–µ –Ω–µ–≥—ñ–∑–¥—ñ–≥—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ—Ç—ñ–Ω —à–∞–º–∞.\n"
            "    - pH &lt; 7 - “ö—ã—à“õ—ã–ª–¥—ã“õ –æ—Ä—Ç–∞\n"
            "    - pH = 7 - –ë–µ–π—Ç–∞—Ä–∞–ø –æ—Ä—Ç–∞\n"
            "    - pH &gt; 7 - –°—ñ–ª—Ç—ñ–ª—ñ–∫ (–Ω–µ–≥—ñ–∑–¥—ñ–∫) –æ—Ä—Ç–∞\n"
            "- <b>–ë–µ–π—Ç–∞—Ä–∞–ø—Ç–∞–Ω—É —Ä–µ–∞–∫—Ü–∏—è—Å—ã:</b> “ö—ã—à“õ—ã–ª –º–µ–Ω –Ω–µ–≥—ñ–∑–¥—ñ“£ ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å—ñ–ø, —Ç“±–∑ –±–µ–Ω —Å—É —Ç“Ø–∑—É—ñ (“ö—ã—à“õ—ã–ª + –ù–µ–≥—ñ–∑ ‚Üí –¢“±–∑ + –°—É)."
        )
    },
    "stoichiometry_basics": {
        "title": "–°—Ç–µ—Ö–∏–æ–º–µ—Ç—Ä–∏—è –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ",
        "content": (
            "<b>üìö –°—Ç–µ—Ö–∏–æ–º–µ—Ç—Ä–∏—è –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ</b>\n\n"
            "<b>–°—Ç–µ—Ö–∏–æ–º–µ—Ç—Ä–∏—è</b> - —Ö–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä“ì–∞ “õ–∞—Ç—ã—Å–∞—Ç—ã–Ω —Ä–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä –º–µ–Ω ”©–Ω—ñ–º–¥–µ—Ä–¥—ñ“£ –º–∞—Å—Å–∞–ª—ã“õ –∂”ô–Ω–µ –∫”©–ª–µ–º–¥—ñ–∫ “õ–∞—Ç—ã–Ω–∞—Å—Ç–∞—Ä—ã–Ω –∑–µ—Ä—Ç—Ç–µ–π—Ç—ñ–Ω —Å–∞–ª–∞.\n\n"
            "–ù–µ–≥—ñ–∑–≥—ñ “õ–∞–¥–∞–º–¥–∞—Ä:\n"
            "1.  –†–µ–∞–∫—Ü–∏—è —Ç–µ“£–¥–µ—É—ñ–Ω –¥“±—Ä—ã—Å –∂–∞–∑—É –∂”ô–Ω–µ <b>—Ç–µ“£–µ—Å—Ç—ñ—Ä—É</b>.\n"
            "2.  –ë–µ–ª–≥—ñ–ª—ñ –∑–∞—Ç—Ç—ã“£ <b>–∑–∞—Ç –º”©–ª—à–µ—Ä—ñ–Ω (–º–æ–ª—å)</b> —Ç–∞–±—É (–º–∞—Å—Å–∞, –∫”©–ª–µ–º –Ω–µ–º–µ—Å–µ –±”©–ª—à–µ–∫—Ç–µ—Ä —Å–∞–Ω—ã –∞—Ä“õ—ã–ª—ã).\n"
            "3.  –†–µ–∞–∫—Ü–∏—è —Ç–µ“£–¥–µ—É—ñ–Ω–¥–µ–≥—ñ <b>–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—Ç–µ—Ä–¥—ñ</b> –ø–∞–π–¥–∞–ª–∞–Ω—ã–ø, —ñ–∑–¥–µ–ª–µ—Ç—ñ–Ω –∑–∞—Ç—Ç—ã“£ –∑–∞—Ç –º”©–ª—à–µ—Ä—ñ–Ω –ø—Ä–æ–ø–æ—Ä—Ü–∏—è –∞—Ä“õ—ã–ª—ã —Ç–∞–±—É.\n"
            "4.  –¢–∞–±—ã–ª“ì–∞–Ω –∑–∞—Ç –º”©–ª—à–µ—Ä—ñ–Ω–µ–Ω —ñ–∑–¥–µ–ª–µ—Ç—ñ–Ω —à–∞–º–∞–Ω—ã (–º–∞—Å—Å–∞, –∫”©–ª–µ–º, —Ç.–±.) –µ—Å–µ–ø—Ç–µ—É.\n\n"
            "<i>–ú—ã—Å–∞–ª—ã:</i> 2H2 + O2 ‚Üí 2H2O —Ç–µ“£–¥–µ—É—ñ 2 –º–æ–ª—å —Å—É—Ç–µ–∫ 1 –º–æ–ª—å –æ—Ç—Ç–µ–∫–ø–µ–Ω ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å—ñ–ø, 2 –º–æ–ª—å —Å—É —Ç“Ø–∑–µ—Ç—ñ–Ω—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ." # H2, O2, H2O –≤–º–µ—Å—Ç–æ <sub>
        )
    },
    "solutions_concentration": {
        "title": "–ï—Ä—ñ—Ç—ñ–Ω–¥—ñ–ª–µ—Ä –∂”ô–Ω–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è",
        "content": (
            "<b>üìö –ï—Ä—ñ—Ç—ñ–Ω–¥—ñ–ª–µ—Ä –∂”ô–Ω–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è</b>\n\n"
            "<b>–ï—Ä—ñ—Ç—ñ–Ω–¥—ñ</b> - –µ—Ä—ñ—Ç–∫—ñ—à—Ç–µ–Ω –∂”ô–Ω–µ –±—ñ—Ä –Ω–µ–º–µ—Å–µ –±—ñ—Ä–Ω–µ—à–µ –µ—Ä—ñ–≥–µ–Ω –∑–∞—Ç—Ç–∞–Ω —Ç“±—Ä–∞—Ç—ã–Ω –±—ñ—Ä—Ç–µ–∫—Ç—ñ (–≥–æ–º–æ–≥–µ–Ω–¥—ñ) –∂“Ø–π–µ.\n\n"
            "<b>–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è</b> - –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ–¥–µ–≥—ñ –Ω–µ–º–µ—Å–µ –µ—Ä—ñ—Ç–∫—ñ—à—Ç–µ–≥—ñ –µ—Ä—ñ–≥–µ–Ω –∑–∞—Ç—Ç—ã“£ –º”©–ª—à–µ—Ä—ñ–Ω —Å–∏–ø–∞—Ç—Ç–∞–π—Ç—ã–Ω —à–∞–º–∞.\n"
            "–ñ–∏—ñ “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω —Ç“Ø—Ä–ª–µ—Ä—ñ:\n"
            "- <b>–ú–∞—Å—Å–∞–ª—ã“õ “Ø–ª–µ—Å (œâ):</b> –ï—Ä—ñ–≥–µ–Ω –∑–∞—Ç –º–∞—Å—Å–∞—Å—ã–Ω—ã“£ –∂–∞–ª–ø—ã –µ—Ä—ñ—Ç—ñ–Ω–¥—ñ –º–∞—Å—Å–∞—Å—ã–Ω–∞ “õ–∞—Ç—ã–Ω–∞—Å—ã (–ø–∞–π—ã–∑–±–µ–Ω –Ω–µ–º–µ—Å–µ “Ø–ª–µ—Å–ø–µ–Ω ”©—Ä–Ω–µ–∫—Ç–µ–ª–µ–¥—ñ).\n"
            "  <code>œâ = (m(–µ—Ä—ñ–≥–µ–Ω –∑–∞—Ç) / m(–µ—Ä—ñ—Ç—ñ–Ω–¥—ñ)) * 100%</code>\n"
            "- <b>–ú–æ–ª—è—Ä–ª—ã“õ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è (C_M):</b> –ï—Ä—ñ—Ç—ñ–Ω–¥—ñ–Ω—ñ“£ –±—ñ—Ä –ª–∏—Ç—Ä—ñ–Ω–¥–µ–≥—ñ –µ—Ä—ñ–≥–µ–Ω –∑–∞—Ç—Ç—ã“£ –º–æ–ª—å —Å–∞–Ω—ã (–º–æ–ª—å/–ª).\n"
            "  <code>C_M = n(–µ—Ä—ñ–≥–µ–Ω –∑–∞—Ç) / V(–µ—Ä—ñ—Ç—ñ–Ω–¥—ñ)</code>"
        )
    },
    "states_of_matter": {
        "title": "–ó–∞—Ç—Ç—ã“£ –∞–≥—Ä–µ–≥–∞—Ç—Ç—ã“õ –∫“Ø–π–ª–µ—Ä—ñ",
        "content": (
            "<b>üìö –ó–∞—Ç—Ç—ã“£ –∞–≥—Ä–µ–≥–∞—Ç—Ç—ã“õ –∫“Ø–π–ª–µ—Ä—ñ</b>\n\n"
            "–ó–∞—Ç—Ç–∞—Ä ”ô—Ä—Ç“Ø—Ä–ª—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–µ–Ω “õ—ã—Å—ã–º–¥–∞ –Ω–µ–≥—ñ–∑–≥—ñ “Ø—à –∞–≥—Ä–µ–≥–∞—Ç—Ç—ã“õ –∫“Ø–π–¥–µ –±–æ–ª–∞ –∞–ª–∞–¥—ã:\n"
            "1.  <b>“ö–∞—Ç—Ç—ã:</b>\n"
            "    - –ë–µ–ª–≥—ñ–ª—ñ –ø—ñ—à—ñ–Ω—ñ –º–µ–Ω –∫”©–ª–µ–º—ñ –±–∞—Ä.\n"
            "    - –ë”©–ª—à–µ–∫—Ç–µ—Ä —Ç—ã“ì—ã–∑ –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω, —Ç–µ–∫ —Ç–µ—Ä–±–µ–ª—ñ—Å –∂–∞—Å–∞–π–¥—ã.\n"
            "2.  <b>–°“±–π—ã“õ:</b>\n"
            "    - –ë–µ–ª–≥—ñ–ª—ñ –∫”©–ª–µ–º—ñ –±–∞—Ä, –±—ñ—Ä–∞“õ –ø—ñ—à—ñ–Ω—ñ —Ç“±—Ä–∞“õ—Å—ã–∑ (—ã–¥—ã—Å –ø—ñ—à—ñ–Ω—ñ–Ω –∞–ª–∞–¥—ã).\n"
            "    - –ë”©–ª—à–µ–∫—Ç–µ—Ä –±—ñ—Ä-–±—ñ—Ä—ñ–Ω–µ –∂–∞“õ—ã–Ω, –±—ñ—Ä–∞“õ –æ—Ä—ã–Ω –∞—É—ã—Å—Ç—ã—Ä–∞ –∞–ª–∞–¥—ã.\n"
            "3.  <b>–ì–∞–∑:</b>\n"
            "    - –ë–µ–ª–≥—ñ–ª—ñ –ø—ñ—à—ñ–Ω—ñ –¥–µ, –∫”©–ª–µ–º—ñ –¥–µ –∂–æ“õ (–±–µ—Ä—ñ–ª–≥–µ–Ω –∫”©–ª–µ–º–¥—ñ —Ç–æ–ª—ã“õ –∞–ª–∞–¥—ã).\n"
            "    - –ë”©–ª—à–µ–∫—Ç–µ—Ä –∞—Ä–∞—Å—ã –∞–ª—à–∞“õ, —Ä–µ—Ç—Å—ñ–∑ “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞ –±–æ–ª–∞–¥—ã.\n\n"
            "–ë—ñ—Ä –∞–≥—Ä–µ–≥–∞—Ç—Ç—ã“õ –∫“Ø–π–¥–µ–Ω –µ–∫—ñ–Ω—à—ñ—Å—ñ–Ω–µ –∞—É—ã—Å—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–µ–Ω “õ—ã—Å—ã–º–Ω—ã“£ ”©–∑–≥–µ—Ä—É—ñ–Ω–µ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã."
        )
    },
    "organic_intro": {
        "title": "–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ö–∏–º–∏—è“ì–∞ –∫—ñ—Ä—ñ—Å–ø–µ",
        "content": (
            "<b>üìö –û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ö–∏–º–∏—è“ì–∞ –∫—ñ—Ä—ñ—Å–ø–µ</b>\n\n"
            "<b>–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ö–∏–º–∏—è</b> - –∫”©–º—ñ—Ä—Ç–µ–∫ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä—ã–Ω—ã“£ –∂”ô–Ω–µ –æ–ª–∞—Ä–¥—ã“£ –∞–π–Ω–∞–ª—ã–º–¥–∞—Ä—ã–Ω—ã“£ —Ö–∏–º–∏—è—Å—ã.\n\n"
            "–ï—Ä–µ–∫—à–µ–ª—ñ–∫—Ç–µ—Ä—ñ:\n"
            "- –ù–µ–≥—ñ–∑–≥—ñ —ç–ª–µ–º–µ–Ω—Ç - <b>–∫”©–º—ñ—Ä—Ç–µ–∫ (C)</b>.\n"
            "- –ö”©–º—ñ—Ä—Ç–µ–∫ –∞—Ç–æ–º–¥–∞—Ä—ã –±—ñ—Ä-–±—ñ—Ä—ñ–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—ã–ø, “±–∑—ã–Ω <b>—Ç—ñ–∑–±–µ–∫—Ç–µ—Ä</b> –º–µ–Ω <b>—Å–∞“õ–∏–Ω–∞–ª–∞—Ä</b> —Ç“Ø–∑–µ –∞–ª–∞–¥—ã.\n"
            "- “ö“±—Ä–∞–º—ã–Ω–¥–∞ –∂–∏—ñ –∫–µ–∑–¥–µ—Å–µ—Ç—ñ–Ω –±–∞—Å“õ–∞ —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä: <b>—Å—É—Ç–µ–∫ (H), –æ—Ç—Ç–µ–∫ (O), –∞–∑–æ—Ç (N)</b>.\n\n"
            "<b>–ö”©–º—ñ—Ä—Å—É—Ç–µ–∫—Ç–µ—Ä</b> - —Ç–µ–∫ –∫”©–º—ñ—Ä—Ç–µ–∫ –ø–µ–Ω —Å—É—Ç–µ–∫—Ç–µ–Ω —Ç“±—Ä–∞—Ç—ã–Ω –µ“£ “õ–∞—Ä–∞–ø–∞–π—ã–º –æ—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä (–º—ã—Å., –º–µ—Ç–∞–Ω <code>CH4</code>, —ç—Ç–∞–Ω <code>C2H6</code>)." # CH4, C2H6 –≤–º–µ—Å—Ç–æ <sub>
        )
    }

} # <-- –û–°–´ –ï“¢ –°–û“¢“í–´ –ñ–ê“ö–®–ê–ù–´ “ö–û–°–ê –ö”®–®–Ü–†–Ü“¢–Ü–ó!


# --- –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–¥—ã“£ –ø—Ä–æ–≥—Ä–µ—Å—ñ–Ω —Å–∞“õ—Ç–∞—É“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å”©–∑–¥—ñ–∫ ---
user_progress = {}

# --- –ö”©–º–µ–∫—à—ñ —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä ---
def build_main_menu() -> InlineKeyboardMarkup:
    """–ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä –ø–µ—Ä–Ω–µ—Ç–∞“õ—Ç–∞—Å—ã–Ω –∂–∞—Å–∞–π–¥—ã."""
    keyboard = [
        [InlineKeyboardButton("‚öñÔ∏è –†–µ–∞–∫—Ü–∏—è–Ω—ã —Ç–∞–±—É", callback_data='find_reaction')],
        [InlineKeyboardButton("üïπÔ∏è –í–∏–∫—Ç–æ—Ä–∏–Ω–∞", callback_data='open_quiz_menu')],
        [InlineKeyboardButton("üß™ –ú–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã", callback_data='molar_mass_calc')],
        [InlineKeyboardButton("üìä –ú–µ–Ω—ñ“£ –ø—Ä–æ–≥—Ä–µ—Å—ñ–º", callback_data='show_progress')],
        [InlineKeyboardButton("‚ÑπÔ∏è –ó–∞—Ç —Ç—É—Ä–∞–ª—ã –∞–Ω—ã“õ—Ç–∞–º–∞", callback_data='info_compound')],
        [InlineKeyboardButton("‚öõÔ∏è –≠–ª–µ–º–µ–Ω—Ç—Ç—ñ —ñ–∑–¥–µ—É", callback_data='find_element')],
        [InlineKeyboardButton("üñºÔ∏è –ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ", callback_data='periodic_table_image')],
        [InlineKeyboardButton("üìö –î”ô—Ä—ñ—Å—Ç–µ—Ä", callback_data='show_lectures')],
        [InlineKeyboardButton("‚ùì –ö”©–º–µ–∫", callback_data='help')],
    ]
    return InlineKeyboardMarkup(keyboard)

def build_quiz_menu() -> InlineKeyboardMarkup:
    """–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ —Ç–∞“£–¥–∞—É –º”ô–∑—ñ—Ä—ñ–Ω—ñ“£ –ø–µ—Ä–Ω–µ—Ç–∞“õ—Ç–∞—Å—ã–Ω –∂–∞—Å–∞–π–¥—ã."""
    keyboard = [
        [InlineKeyboardButton("‚úîÔ∏è –î“±—Ä—ã—Å/–ë“±—Ä—ã—Å", callback_data='quiz_true_false')],
        [InlineKeyboardButton("‚ùì –ö”©–ø —Ç–∞“£–¥–∞—É", callback_data='quiz_multiple_choice')],
        [InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]
    ]
    return InlineKeyboardMarkup(keyboard)

def build_lecture_menu() -> InlineKeyboardMarkup:
    """“ö–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –¥”ô—Ä—ñ—Å—Ç–µ—Ä —Ç—ñ–∑—ñ–º—ñ –±–∞—Ä –ø–µ—Ä–Ω–µ—Ç–∞“õ—Ç–∞–Ω—ã –∂–∞—Å–∞–π–¥—ã."""
    keyboard = []
    for key, data in LECTURES_DATA.items():
        keyboard.append([InlineKeyboardButton(data['title'], callback_data=f'lecture_{key}')])
    keyboard.append([InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')])
    return InlineKeyboardMarkup(keyboard)


def calculate_molar_mass(formula):
    """–•–∏–º–∏—è–ª—ã“õ —Ñ–æ—Ä–º—É–ª–∞ –±–æ–π—ã–Ω—à–∞ –º–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞–Ω—ã –µ—Å–µ–ø—Ç–µ–π–¥—ñ."""
    mass = 0
    elements = re.findall(r'([A-Z][a-z]?)(\d*)', formula)
    if not elements:
        return "‚ùå “ö–∞—Ç–µ: –§–æ—Ä–º—É–ª–∞–Ω—ã —Ç–∞–Ω—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã. –≠–ª–µ–º–µ–Ω—Ç —Ç–∞“£–±–∞–ª–∞—Ä—ã–Ω—ã“£ –¥“±—Ä—ã—Å –∂–∞–∑—ã–ª“ì–∞–Ω—ã–Ω–∞ –∫”©–∑ –∂–µ—Ç–∫—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, H2O, NaCl)."

    parsed_elements = []
    parsing_ok = True
    for element, count in elements:
        if element in ELEMENTS_DATA:
            atomic_mass = ELEMENTS_DATA[element]['atomic_mass']
            num_atoms = int(count) if count else 1
            mass += atomic_mass * num_atoms
            parsed_elements.append(f"{element}{count}")
        else:
            parsing_ok = False
            return f"‚ùå “ö–∞—Ç–µ: –§–æ—Ä–º—É–ª–∞–¥–∞ –±–µ–ª–≥—ñ—Å—ñ–∑ —ç–ª–µ–º–µ–Ω—Ç '{element}'."

    if parsing_ok and "".join(parsed_elements) != formula:
         # Check if the formula contains brackets or complex structures not handled by the simple regex
         if '(' in formula or '[' in formula:
             # For complex formulas, return the calculated mass but warn about potential inaccuracies
             logger.warning(f"–§–æ—Ä–º—É–ª–∞ '{formula}' –∫“Ø—Ä–¥–µ–ª—ñ –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω. –ï—Å–µ–ø—Ç–µ—É –¥”ô–ª –±–æ–ª–º–∞—É—ã –º“Ø–º–∫—ñ–Ω.")
             # Return the calculated mass anyway, as simple parts might be correct
         else:
            # If no complex structures, it's likely a parsing error
            return f"‚ùå “ö–∞—Ç–µ: '{formula}' —Ñ–æ—Ä–º—É–ª–∞—Å—ã–Ω —Ç–æ–ª—ã“õ —Ç–∞–ª–¥–∞—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã. –§–æ—Ä–º–∞—Ç—Ç—ã —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑."

    # Return result using HTML for consistency
    return f"<b>{formula}</b> –º–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞—Å—ã: <code>{mass:.3f}</code> –≥/–º–æ–ª—å"


# --- –ü—Ä–æ–≥—Ä–µ—Å—Ç—ñ –∫”©—Ä—Å–µ—Ç—É ---
async def show_progress(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã“£ –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞–ª–∞—Ä –±–æ–π—ã–Ω—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞—Å—ã–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ."""
    query = update.callback_query
    user_id = query.from_user.id
    progress = user_progress.get(user_id, {})
    tf_correct = progress.get('true_false_correct', 0)
    tf_total = tf_correct + progress.get('true_false_incorrect', 0)
    mc_correct = progress.get('multiple_choice_correct', 0)
    mc_total = mc_correct + progress.get('multiple_choice_incorrect', 0)

    tf_percent = (tf_correct / tf_total * 100) if tf_total > 0 else 0
    mc_percent = (mc_correct / mc_total * 100) if mc_total > 0 else 0

    message = f"üìä <b>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞–ª–∞—Ä–¥–∞“ì—ã —Å—ñ–∑–¥—ñ“£ –ø—Ä–æ–≥—Ä–µ—Å—ñ“£—ñ–∑:</b>\n\n"
    message += f"‚úîÔ∏è –î“±—Ä—ã—Å/–ë“±—Ä—ã—Å: {tf_total} —Å“±—Ä–∞“õ—Ç–∞–Ω {tf_correct} –¥“±—Ä—ã—Å –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª–¥—ñ ({tf_percent:.1f}%)\n"
    message += f"‚ùì –ö”©–ø —Ç–∞“£–¥–∞—É: {mc_total} —Å“±—Ä–∞“õ—Ç–∞–Ω {mc_correct} –¥“±—Ä—ã—Å –∂–∞—É–∞–ø –±–µ—Ä—ñ–ª–¥—ñ ({mc_percent:.1f}%)\n"

    await query.edit_message_text(message, parse_mode=ParseMode.HTML, reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]]))

# --- –ö–æ–º–∞–Ω–¥–∞ ”©“£–¥–µ—É—à—ñ–ª–µ—Ä—ñ ---
async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/start –∫–æ–º–∞–Ω–¥–∞—Å—ã –∫–µ–∑—ñ–Ω–¥–µ —Å”ô–ª–µ–º–¥–µ—Å—É —Ö–∞–±–∞—Ä–ª–∞–º–∞—Å—ã–Ω –∂—ñ–±–µ—Ä–µ–¥—ñ."""
    user = update.effective_user
    await update.message.reply_html(
        rf"–°”ô–ª–µ–º, {user.mention_html()}! üëã –ú–µ–Ω —Å—ñ–∑–¥—ñ“£ —Ö–∏–º–∏—è –±–æ–π—ã–Ω—à–∞ –∫”©–º–µ–∫—à—ñ“£—ñ–∑–±—ñ–Ω."
        "\n\n–ú–µ–Ω –∑–∞—Ç—Ç–∞—Ä, —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä, —Ö–∏–º–∏—è–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç —Ç–∞–±—É“ì–∞, "
        "–º–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞–Ω—ã –µ—Å–µ–ø—Ç–µ—É–≥–µ, —Å–æ–Ω–¥–∞–π-–∞“õ –±—ñ–ª—ñ–º–¥—ñ —Ç–µ–∫—Å–µ—Ä—É “Ø—à—ñ–Ω –¥”ô—Ä—ñ—Å—Ç–µ—Ä –º–µ–Ω –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞–ª–∞—Ä “±—Å—ã–Ω—É“ì–∞ –∫”©–º–µ–∫—Ç–µ—Å–µ –∞–ª–∞–º—ã–Ω.\n\n"
        "–ë–∞—Å—Ç–∞—É “Ø—à—ñ–Ω —Ç”©–º–µ–Ω–¥–µ–≥—ñ –±–∞—Ç—ã—Ä–º–∞–Ω—ã –±–∞—Å—ã“£—ã–∑.",
        reply_markup=build_main_menu(),
        disable_web_page_preview=True # –î–æ–±–∞–≤–ª–µ–Ω–æ
    )

async def menu_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/menu –∫–æ–º–∞–Ω–¥–∞—Å—ã –±–æ–π—ã–Ω—à–∞ –Ω–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä–¥—ñ –∂—ñ–±–µ—Ä–µ–¥—ñ."""
    if update.callback_query:
        try:
            await update.callback_query.edit_message_text('üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())
        except Exception as e:
             logger.warning(f"menu_command —ñ—à—ñ–Ω–¥–µ —Ö–∞–±–∞—Ä–ª–∞–º–∞–Ω—ã ”©“£–¥–µ—É “õ–∞—Ç–µ—Å—ñ: {e}. –ñ–∞“£–∞ —Ö–∞–±–∞—Ä–ª–∞–º–∞ –∂—ñ–±–µ—Ä—É.")
             # Ensure update.effective_chat.id exists before sending message
             chat_id = update.effective_chat.id if update.effective_chat else None
             if chat_id:
                 await context.bot.send_message(chat_id=chat_id, text='üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())
             else:
                 logger.error("menu_command —ñ—à—ñ–Ω–¥–µ chat_id —Ç–∞–±—ã–ª–º–∞–¥—ã.")

    else:
        await update.message.reply_text('üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())


async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/help –∫–æ–º–∞–Ω–¥–∞—Å—ã –±–æ–π—ã–Ω—à–∞ –∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ —Ö–∞–±–∞—Ä–ª–∞–º–∞ –∂—ñ–±–µ—Ä–µ–¥—ñ."""
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏ –ª—É—á—à–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    help_text = (
        "<b>“ö–æ–ª–∂–µ—Ç—ñ–º–¥—ñ —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä:</b>\n\n"
        "üìö <b>–î”ô—Ä—ñ—Å—Ç–µ—Ä:</b> –¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä –±–æ–π—ã–Ω—à–∞ “õ—ã—Å“õ–∞—à–∞ —Ç–µ–æ—Ä–∏—è–ª—ã“õ –º–∞—Ç–µ—Ä–∏–∞–ª–¥–∞—Ä.\n"
        "‚öñÔ∏è <b>–†–µ–∞–∫—Ü–∏—è–Ω—ã —Ç–∞–±—É:</b> –†–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>H2 + O2</code>), –º–µ–Ω —Ç–µ“£–¥–µ—É–¥—ñ –∫”©—Ä—Å–µ—Ç–µ–º—ñ–Ω.\n"
        "üïπÔ∏è <b>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞:</b> –ë—ñ–ª—ñ–º—ñ“£—ñ–∑–¥—ñ –µ–∫—ñ —Ñ–æ—Ä–º–∞—Ç—Ç–∞ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑ (–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å, –ö”©–ø —Ç–∞“£–¥–∞—É).\n"
        "üß™ <b>–ú–æ–ª—è—Ä–ª—ã“õ –º–∞—Å—Å–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã:</b> –§–æ—Ä–º—É–ª–∞–Ω—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>H2SO4</code>), –º–µ–Ω –º–∞—Å—Å–∞–Ω—ã –µ—Å–µ–ø—Ç–µ–π–º—ñ–Ω.\n"
        "üìä <b>–ú–µ–Ω—ñ“£ –ø—Ä–æ–≥—Ä–µ—Å—ñ–º:</b> –í–∏–∫—Ç–æ—Ä–∏–Ω–∞–ª–∞—Ä–¥–∞“ì—ã –∂–∞—É–∞–ø—Ç–∞—Ä—ã“£—ã–∑–¥—ã“£ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞—Å—ã.\n"
        "‚ÑπÔ∏è <b>–ó–∞—Ç —Ç—É—Ä–∞–ª—ã –∞–Ω—ã“õ—Ç–∞–º–∞:</b> –û–ª —Ç—É—Ä–∞–ª—ã –±—ñ–ª—É “Ø—à—ñ–Ω —Ñ–æ—Ä–º—É–ª–∞–Ω—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>H2O</code>).\n"
        "‚öõÔ∏è <b>–≠–ª–µ–º–µ–Ω—Ç—Ç—ñ —ñ–∑–¥–µ—É:</b> –≠–ª–µ–º–µ–Ω—Ç—Ç—ñ —Ç–∞–±—É “Ø—à—ñ–Ω —Ç–∞“£–±–∞—Å—ã–Ω (<code>Fe</code>) –Ω–µ–º–µ—Å–µ –Ω”©–º—ñ—Ä—ñ–Ω (<code>26</code>) –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.\n"
        "üñºÔ∏è <b>–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ:</b> –ö–µ—Å—Ç–µ–Ω—ñ“£ —Å—É—Ä–µ—Ç—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.\n\n"
        "<b>–ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä:</b>\n"
        "/start - –ë–æ—Ç—Ç—ã “õ–∞–π—Ç–∞ —ñ—Å–∫–µ “õ–æ—Å—É\n"
        "/menu - –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä–¥—ñ –∞—à—É\n"
        "/help - –û—Å—ã –∞–Ω—ã“õ—Ç–∞–º–∞–Ω—ã –∫”©—Ä—Å–µ—Ç—É"
    )
    reply_markup_button = InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]])
    reply_markup_command = InlineKeyboardMarkup([[InlineKeyboardButton("‚úÖ –¢“Ø—Å—ñ–Ω—ñ–∫—Ç—ñ", callback_data='main_menu')]])

    if update.callback_query:
         await update.callback_query.edit_message_text(
             help_text,
             parse_mode=ParseMode.HTML, # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
             reply_markup=reply_markup_button,
             disable_web_page_preview=True # –î–æ–±–∞–≤–ª–µ–Ω–æ
         )
    else:
         await update.message.reply_text(
             help_text,
             parse_mode=ParseMode.HTML, # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
             reply_markup=reply_markup_command,
             disable_web_page_preview=True # –î–æ–±–∞–≤–ª–µ–Ω–æ
         )

async def info_command_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/info <—Ñ–æ—Ä–º—É–ª–∞> –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω ”©“£–¥–µ–π–¥—ñ."""
    if not context.args:
        await update.message.reply_html("–ó–∞—Ç—Ç—ã“£ —Ñ–æ—Ä–º—É–ª–∞—Å—ã–Ω /info –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω–∞–Ω –∫–µ–π—ñ–Ω –∫”©—Ä—Å–µ—Ç—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, /info H2O).", disable_web_page_preview=True)
        return

    formula = context.args[0].upper()
    if formula in COMPOUNDS_DATA:
        data = COMPOUNDS_DATA[formula]
        response = f"üß™ <b>{data.get('name', '–ê—Ç–∞—É—ã –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω')} ({formula})</b>\n"
        if 'type' in data: response += f"–¢“Ø—Ä—ñ: {data['type']}\n"
        if 'properties' in data: response += f"“ö–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ: {data['properties']}\n"
        if 'application' in data: response += f"“ö–æ–ª–¥–∞–Ω—ã–ª—É—ã: {data['application']}"
        await update.message.reply_html(response, disable_web_page_preview=True)
    else:
        await update.message.reply_html(f"‚ùå '{formula}' —Ñ–æ—Ä–º—É–ª–∞—Å—ã –±–∞—Ä –∑–∞—Ç –∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ—Ç–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã.", disable_web_page_preview=True)

async def element_command_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/element <—Ç–∞“£–±–∞ –Ω–µ–º–µ—Å–µ –Ω”©–º—ñ—Ä> –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω ”©“£–¥–µ–π–¥—ñ."""
    if not context.args:
        await update.message.reply_html("–≠–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ —Ç–∞“£–±–∞—Å—ã–Ω –Ω–µ–º–µ—Å–µ –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ–Ω /element –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω–∞–Ω –∫–µ–π—ñ–Ω –∫”©—Ä—Å–µ—Ç—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, /element Fe –Ω–µ–º–µ—Å–µ /element 26).", disable_web_page_preview=True)
        return

    query_arg = context.args[0].strip()
    found = False
    response = ""
    query_symbol = query_arg.title()

    if query_symbol in ELEMENTS_DATA:
        data = ELEMENTS_DATA[query_symbol]
        response = (
            f"‚öõÔ∏è <b>{data.get('name', '–ê—Ç—ã —Ç–∞–±—ã–ª–º–∞–¥—ã')} ({query_symbol})</b>\n"
            f"–ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ: {data.get('atomic_number', '–±–µ–ª–≥—ñ—Å—ñ–∑')}\n"
            f"–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –∞—Ç–æ–º–¥—ã“õ –º–∞—Å—Å–∞—Å—ã: {data.get('atomic_mass', '–±–µ–ª–≥—ñ—Å—ñ–∑')}"
        )
        found = True
    else:
        try:
            atomic_number = int(query_arg)
            for symbol, data in ELEMENTS_DATA.items():
                if data.get('atomic_number') == atomic_number:
                    response = (
                        f"‚öõÔ∏è <b>{data.get('name', '–ê—Ç—ã —Ç–∞–±—ã–ª–º–∞–¥—ã')} ({symbol})</b>\n"
                        f"–ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ: {data.get('atomic_number', '–±–µ–ª–≥—ñ—Å—ñ–∑')}\n"
                        f"–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –∞—Ç–æ–º–¥—ã“õ –º–∞—Å—Å–∞—Å—ã: {data.get('atomic_mass', '–±–µ–ª–≥—ñ—Å—ñ–∑')}"
                    )
                    found = True
                    break
            if not found:
                 response = f"‚ùå –ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ '{atomic_number}' —ç–ª–µ–º–µ–Ω—Ç —Ç–∞–±—ã–ª–º–∞–¥—ã."
        except ValueError:
            response = f"‚ùå '{query_arg}' —Ç–∞–Ω—ã–ª–º–∞–¥—ã. –≠–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ —Ç–∞“£–±–∞—Å—ã–Ω (–º—ã—Å–∞–ª—ã, Fe) –Ω–µ–º–µ—Å–µ –æ–Ω—ã“£ –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ–Ω (–º—ã—Å–∞–ª—ã, 26) –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑."

    await update.message.reply_html(response, disable_web_page_preview=True)


async def molar_mass_command_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """/molar_mass <—Ñ–æ—Ä–º—É–ª–∞> –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω ”©“£–¥–µ–π–¥—ñ."""
    if not context.args:
        await update.message.reply_html("–•–∏–º–∏—è–ª—ã“õ —Ñ–æ—Ä–º—É–ª–∞–Ω—ã /molar_mass –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω–∞–Ω –∫–µ–π—ñ–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, /molar_mass H2O).", disable_web_page_preview=True)
        return

    formula = context.args[0]
    result = calculate_molar_mass(formula)
    await update.message.reply_html(result, reply_markup=build_main_menu(), disable_web_page_preview=True)


# --- "–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å" –í–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω—ã“£ –ª–æ–≥–∏–∫–∞—Å—ã ---
async def start_true_false_quiz(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω—ã“£ —Ä–∞—É–Ω–¥—ã–Ω –±–∞—Å—Ç–∞–π–¥—ã."""
    query = update.callback_query
    if not TRUE_FALSE_QUIZ_QUESTIONS:
        text = "–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, '–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å' –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å“±—Ä–∞“õ—Ç–∞—Ä ”ô–ª—ñ “õ–æ—Å—ã–ª–º–∞“ì–∞–Ω."
        reply_markup = build_quiz_menu()
        if query: await query.edit_message_text(text, reply_markup=reply_markup)
        else: await update.message.reply_text(text, reply_markup=reply_markup)
        return

    question_data = random.choice(TRUE_FALSE_QUIZ_QUESTIONS)
    question_text, correct_answer_bool, explanation = question_data

    context.user_data['quiz_type'] = 'true_false'
    context.user_data['quiz_correct_answer'] = correct_answer_bool
    context.user_data['quiz_question_text'] = question_text
    context.user_data['quiz_explanation'] = explanation
    logger.info(f"TF_Quiz: –°“±—Ä–∞“õ “õ–æ–π—ã–ª–¥—ã: '{question_text}', –ñ–∞—É–∞–±—ã: {correct_answer_bool}")

    keyboard = [
        [
            InlineKeyboardButton("‚úîÔ∏è –î“±—Ä—ã—Å", callback_data='quiz_answer_true'),
            InlineKeyboardButton("‚ùå –ë“±—Ä—ã—Å", callback_data='quiz_answer_false')
        ],
        [InlineKeyboardButton("¬´ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º”ô–∑—ñ—Ä—ñ–Ω–µ", callback_data='open_quiz_menu')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞
    text_to_send = f"<b>–°“±—Ä–∞“õ (–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å):</b>\n\n{question_text}"

    message_to_edit = query.message if query else update.message
    try:
        if query:
            await query.edit_message_text(text_to_send, reply_markup=reply_markup, parse_mode=ParseMode.HTML, disable_web_page_preview=True)
        else:
            await update.message.reply_html(text_to_send, reply_markup=reply_markup, disable_web_page_preview=True)
    except Exception as e:
        logger.error(f"TF —Å“±—Ä–∞“ì—ã–Ω –∂—ñ–±–µ—Ä—É –∫–µ–∑—ñ–Ω–¥–µ–≥—ñ “õ–∞—Ç–µ: {e}", exc_info=True)
        chat_id = message_to_edit.chat_id if message_to_edit else None
        if chat_id:
            await context.bot.send_message(
                chat_id=chat_id,
                text="–ñ–∞“£–∞—Ä—Ç—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. –ú—ñ–Ω–µ, –∂–∞“£–∞ —Å“±—Ä–∞“õ:",
                reply_markup=build_quiz_menu()
            )
            await context.bot.send_message(
                chat_id=chat_id,
                text=text_to_send,
                reply_markup=reply_markup,
                parse_mode=ParseMode.HTML,
                disable_web_page_preview=True
            )

async def handle_true_false_answer(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–î“±—Ä—ã—Å/–ë“±—Ä—ã—Å —Å“±—Ä–∞“ì—ã–Ω–∞ –∂–∞—É–∞–ø—Ç—ã ”©“£–¥–µ–π–¥—ñ."""
    query = update.callback_query
    await query.answer()
    data = query.data
    user_id = query.from_user.id

    if 'quiz_correct_answer' not in context.user_data or context.user_data.get('quiz_type') != 'true_false':
        await query.edit_message_text(
            "ü§î –û–π, —Å“±—Ä–∞“õ—Ç—ã “±–º—ã—Ç—ã–ø “õ–∞–ª–¥—ã–º –Ω–µ–º–µ—Å–µ –±—ñ—Ä–¥–µ“£–µ –¥“±—Ä—ã—Å –±–æ–ª–º–∞–¥—ã. –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª–∞–π—ã“õ.",
            reply_markup=build_main_menu()
        )
        return

    user_answer_bool = (data == 'quiz_answer_true')
    correct_answer_bool = context.user_data['quiz_correct_answer']
    question_text = context.user_data['quiz_question_text']
    explanation = context.user_data['quiz_explanation']

    if user_id not in user_progress:
        user_progress[user_id] = {'true_false_correct': 0, 'true_false_incorrect': 0, 'multiple_choice_correct': 0, 'multiple_choice_incorrect': 0}

    feedback = ""
    if user_answer_bool == correct_answer_bool:
        feedback = "‚úÖ <b>–î“±—Ä—ã—Å!</b>"
        user_progress[user_id]['true_false_correct'] += 1
    else:
        feedback = f"‚ùå <b>–ë“±—Ä—ã—Å.</b> –î“±—Ä—ã—Å –∂–∞—É–∞–ø: <b>{'–î“±—Ä—ã—Å' if correct_answer_bool else '–ë“±—Ä—ã—Å'}</b>."
        user_progress[user_id]['true_false_incorrect'] += 1
        if explanation:
            # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º HTML —Å–∏–º–≤–æ–ª—ã –≤ –æ–±—ä—è—Å–Ω–µ–Ω–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
            safe_explanation = explanation.replace('<', '&lt;').replace('>', '&gt;')
            feedback += f"\n\n<i>–¢“Ø—Å—ñ–Ω–¥—ñ—Ä–º–µ:</i> {safe_explanation}"

    keyboard = [
         [InlineKeyboardButton("üîÑ –ö–µ–ª–µ—Å—ñ —Å“±—Ä–∞“õ", callback_data='quiz_true_false')],
         [InlineKeyboardButton("üìä –ü—Ä–æ–≥—Ä–µ—Å—Ç—ñ –∫”©—Ä—Å–µ—Ç—É", callback_data='show_progress')],
         [InlineKeyboardButton("¬´ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º”ô–∑—ñ—Ä—ñ–Ω–µ", callback_data='open_quiz_menu')]
     ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML –¥–ª—è –æ—Ç–≤–µ—Ç–∞
    safe_question_text = question_text.replace('<', '&lt;').replace('>', '&gt;')
    await query.edit_message_text(
        f"<b>–°“±—Ä–∞“õ –±–æ–ª–¥—ã:</b>\n{safe_question_text}\n\n{feedback}",
        reply_markup=reply_markup,
        parse_mode=ParseMode.HTML,
        disable_web_page_preview=True
    )

    context.user_data.pop('quiz_correct_answer', None)
    context.user_data.pop('quiz_question_text', None)
    context.user_data.pop('quiz_explanation', None)
    context.user_data.pop('quiz_type', None)

# --- "–ö”©–ø —Ç–∞“£–¥–∞—É" –í–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω—ã“£ –ª–æ–≥–∏–∫–∞—Å—ã ---
async def start_multiple_choice_quiz(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ö”©–ø —Ç–∞“£–¥–∞—É –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω—ã“£ —Ä–∞—É–Ω–¥—ã–Ω –±–∞—Å—Ç–∞–π–¥—ã."""
    query = update.callback_query
    if not MULTIPLE_CHOICE_QUIZ_QUESTIONS:
        text = "–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, –∫”©–ø —Ç–∞“£–¥–∞—É –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Å—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å“±—Ä–∞“õ—Ç–∞—Ä ”ô–ª—ñ “õ–æ—Å—ã–ª–º–∞“ì–∞–Ω."
        reply_markup = build_quiz_menu()
        if query: await query.edit_message_text(text, reply_markup=reply_markup)
        else: await update.message.reply_text(text, reply_markup=reply_markup)
        return

    question_data = random.choice(MULTIPLE_CHOICE_QUIZ_QUESTIONS)
    question_text = question_data['question']
    options = question_data['options']
    correct_answer_index = question_data['correct_answer_index']
    explanation = question_data['explanation']

    context.user_data['quiz_type'] = 'multiple_choice'
    context.user_data['mc_correct_answer_index'] = correct_answer_index
    context.user_data['mc_explanation'] = explanation
    context.user_data['mc_question_text'] = question_text
    context.user_data['mc_options'] = options
    logger.info(f"MC_Quiz: –°“±—Ä–∞“õ “õ–æ–π—ã–ª–¥—ã: '{question_text}', –ñ–∞—É–∞–±—ã: {options[correct_answer_index]} (–∏–Ω–¥–µ–∫—Å {correct_answer_index})")

    keyboard = []
    for index, option in enumerate(options):
        keyboard.append([InlineKeyboardButton(option, callback_data=f'quiz_mc_answer_{index}')])
    keyboard.append([InlineKeyboardButton("¬´ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º”ô–∑—ñ—Ä—ñ–Ω–µ", callback_data='open_quiz_menu')])

    reply_markup = InlineKeyboardMarkup(keyboard)
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞
    text_to_send = f"<b>–°“±—Ä–∞“õ (–ë—ñ—Ä –∂–∞—É–∞–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑):</b>\n\n{question_text}"

    message_to_edit = query.message if query else update.message
    try:
        if query:
            await query.edit_message_text(text_to_send, reply_markup=reply_markup, parse_mode=ParseMode.HTML, disable_web_page_preview=True)
        else:
            await update.message.reply_html(text_to_send, reply_markup=reply_markup, disable_web_page_preview=True)
    except Exception as e:
        logger.error(f"MC —Å“±—Ä–∞“ì—ã–Ω –∂—ñ–±–µ—Ä—É –∫–µ–∑—ñ–Ω–¥–µ–≥—ñ “õ–∞—Ç–µ: {e}", exc_info=True)
        chat_id = message_to_edit.chat_id if message_to_edit else None
        if chat_id:
            await context.bot.send_message(
                chat_id=chat_id,
                text="–ñ–∞“£–∞—Ä—Ç—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. –ú—ñ–Ω–µ, –∂–∞“£–∞ —Å“±—Ä–∞“õ:",
                reply_markup=build_quiz_menu()
            )
            await context.bot.send_message(
                chat_id=chat_id,
                text=text_to_send,
                reply_markup=reply_markup,
                parse_mode=ParseMode.HTML,
                disable_web_page_preview=True
            )

async def handle_multiple_choice_answer(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–ö”©–ø —Ç–∞“£–¥–∞—É —Å“±—Ä–∞“ì—ã–Ω–∞ –∂–∞—É–∞–ø—Ç—ã ”©“£–¥–µ–π–¥—ñ."""
    query = update.callback_query
    await query.answer()
    data = query.data
    user_id = query.from_user.id

    if 'mc_correct_answer_index' not in context.user_data or context.user_data.get('quiz_type') != 'multiple_choice':
        await query.edit_message_text(
            "ü§î –û–π, —Å“±—Ä–∞“õ—Ç—ã “±–º—ã—Ç—ã–ø “õ–∞–ª–¥—ã–º –Ω–µ–º–µ—Å–µ –±—ñ—Ä–¥–µ“£–µ –¥“±—Ä—ã—Å –±–æ–ª–º–∞–¥—ã. –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª–∞–π—ã“õ.",
            reply_markup=build_main_menu()
        )
        return

    try:
        selected_answer_index = int(data.split('_')[-1])
    except (ValueError, IndexError):
        logger.error(f"MC –∂–∞—É–∞–±—ã “Ø—à—ñ–Ω –∂–∞—Ä–∞–º—Å—ã–∑ callback_data: {data}")
        await query.edit_message_text("–ñ–∞—É–∞–ø—Ç—ã ”©“£–¥–µ—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã.", reply_markup=build_quiz_menu())
        return

    correct_answer_index = context.user_data['mc_correct_answer_index']
    question_text = context.user_data['mc_question_text']
    explanation = context.user_data['mc_explanation']
    options = context.user_data['mc_options']
    correct_answer_text = options[correct_answer_index] if 0 <= correct_answer_index < len(options) else "–ë–µ–ª–≥—ñ—Å—ñ–∑"

    if user_id not in user_progress:
        user_progress[user_id] = {'true_false_correct': 0, 'true_false_incorrect': 0, 'multiple_choice_correct': 0, 'multiple_choice_incorrect': 0}

    feedback = ""
    if selected_answer_index == correct_answer_index:
        feedback = "‚úÖ <b>–î“±—Ä—ã—Å!</b>"
        user_progress[user_id]['multiple_choice_correct'] += 1
    else:
        selected_answer_text = options[selected_answer_index] if 0 <= selected_answer_index < len(options) else "–°—ñ–∑–¥—ñ“£ —Ç–∞“£–¥–∞—É—ã“£—ã–∑"
        # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º HTML –≤ –æ—Ç–≤–µ—Ç–∞—Ö
        safe_selected = selected_answer_text.replace('<', '&lt;').replace('>', '&gt;')
        safe_correct = correct_answer_text.replace('<', '&lt;').replace('>', '&gt;')
        feedback = f"‚ùå <b>–ë“±—Ä—ã—Å.</b>\n–°—ñ–∑ —Ç–∞“£–¥–∞–¥—ã“£—ã–∑: {safe_selected}\n–î“±—Ä—ã—Å –∂–∞—É–∞–ø: <b>{safe_correct}</b>."
        user_progress[user_id]['multiple_choice_incorrect'] += 1
        if explanation:
             safe_explanation = explanation.replace('<', '&lt;').replace('>', '&gt;')
             feedback += f"\n\n<i>–¢“Ø—Å—ñ–Ω–¥—ñ—Ä–º–µ:</i> {safe_explanation}"

    keyboard = [
         [InlineKeyboardButton("üîÑ –ö–µ–ª–µ—Å—ñ —Å“±—Ä–∞“õ", callback_data='quiz_multiple_choice')],
         [InlineKeyboardButton("üìä –ü—Ä–æ–≥—Ä–µ—Å—Ç—ñ –∫”©—Ä—Å–µ—Ç—É", callback_data='show_progress')],
         [InlineKeyboardButton("¬´ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –º”ô–∑—ñ—Ä—ñ–Ω–µ", callback_data='open_quiz_menu')]
     ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML –¥–ª—è –æ—Ç–≤–µ—Ç–∞
    safe_question_text = question_text.replace('<', '&lt;').replace('>', '&gt;')
    await query.edit_message_text(
        f"<b>–°“±—Ä–∞“õ –±–æ–ª–¥—ã:</b>\n{safe_question_text}\n\n{feedback}",
        reply_markup=reply_markup,
        parse_mode=ParseMode.HTML,
        disable_web_page_preview=True
    )

    context.user_data.pop('mc_correct_answer_index', None)
    context.user_data.pop('mc_explanation', None)
    context.user_data.pop('mc_question_text', None)
    context.user_data.pop('mc_options', None)
    context.user_data.pop('quiz_type', None)


# --- –ë–∞—Ç—ã—Ä–º–∞ ”©“£–¥–µ—É—à—ñ—Å—ñ (CallbackQueryHandler) ---
# –ò–°–ü–†–ê–í–õ–ï–ù–û: parse_mode=HTML –¥–ª—è –ª–µ–∫—Ü–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω–æ disable_web_page_preview
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–ë–∞—Ä–ª—ã“õ Inline –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã“£ –±–∞—Å—ã–ª—É—ã–Ω ”©“£–¥–µ–π–¥—ñ."""
    query = update.callback_query
    await query.answer()
    data = query.data
    logger.info(f"–ë–∞—Ç—ã—Ä–º–∞ –±–∞—Å—ã–ª–¥—ã: {data}")

    # --- callback_data –±–æ–π—ã–Ω—à–∞ –º–∞—Ä—à—Ä—É—Ç—Ç–∞—É ---

    if data == 'quiz_answer_true' or data == 'quiz_answer_false':
        await handle_true_false_answer(update, context)
    elif data.startswith('quiz_mc_answer_'):
        await handle_multiple_choice_answer(update, context)
    elif data == 'quiz_true_false':
        await start_true_false_quiz(update, context)
    elif data == 'quiz_multiple_choice':
        await start_multiple_choice_quiz(update, context)
    elif data == 'open_quiz_menu':
        await query.edit_message_text(text="üìù –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑:", reply_markup=build_quiz_menu())
    elif data == 'molar_mass_calc':
        await query.edit_message_text(
            text="üßÆ –•–∏–º–∏—è–ª—ã“õ —Ñ–æ—Ä–º—É–ª–∞–Ω—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>H2SO4</code> –Ω–µ–º–µ—Å–µ <code>Ca(OH)2</code>):",
            reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]]),
            parse_mode=ParseMode.HTML # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
        )
        context.user_data['next_action'] = 'calculate_molar_mass_input'
    elif data == 'show_progress':
        await show_progress(update, context)
    elif data == 'find_reaction':
        await query.edit_message_text(
            text="üß¨ –†–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä–¥—ñ '+' –∞—Ä“õ—ã–ª—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>Na + Cl2</code> –Ω–µ–º–µ—Å–µ <code>CaCO3</code>).\n"
                 "–ú–µ–Ω ”©–∑ –±–∞–∑–∞–º–Ω–∞–Ω —Å”ô–π–∫–µ—Å —Ä–µ–∞–∫—Ü–∏—è —Ç–µ“£–¥–µ—É—ñ–Ω —ñ–∑–¥–µ–π–º—ñ–Ω.",
            reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]]),
            parse_mode=ParseMode.HTML # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
        )
        context.user_data['next_action'] = 'find_reaction_input'
    elif data == 'show_lectures':
        await query.edit_message_text(
            text="üìö –¢—ñ–∑—ñ–º–Ω–µ–Ω –¥”ô—Ä—ñ—Å—Ç—ñ —Ç–∞“£–¥–∞“£—ã–∑:",
            reply_markup=build_lecture_menu()
        )
    elif data.startswith('lecture_'):
        lecture_key = data.split('lecture_', 1)[-1]
        if lecture_key in LECTURES_DATA:
            lecture = LECTURES_DATA[lecture_key]
            keyboard = [
                [InlineKeyboardButton("¬´ –î”ô—Ä—ñ—Å—Ç–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω–µ", callback_data='show_lectures')],
                [InlineKeyboardButton("¬´ –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä–≥–µ", callback_data='main_menu')]
            ]
            reply_markup = InlineKeyboardMarkup(keyboard)
            await query.edit_message_text(
                text=lecture['content'],
                reply_markup=reply_markup,
                parse_mode=ParseMode.HTML, # –ò–ó–ú–ï–ù–ï–ù–û –ù–ê HTML
                disable_web_page_preview=True # –î–û–ë–ê–í–õ–ï–ù–û
            )
        else:
            await query.edit_message_text(
                "üòï –ë“±–ª –¥”ô—Ä—ñ—Å—Ç—ñ —Ç–∞–±–∞ –∞–ª–º–∞–¥—ã–º. –ú“Ø–º–∫—ñ–Ω –æ–ª –∂–æ–π—ã–ª“ì–∞–Ω —à—ã“ì–∞—Ä.",
                reply_markup=build_main_menu(),
                disable_web_page_preview=True
            )
    elif data == 'periodic_table_image':
        image_path = 'periodic_table.jpg'
        try:
            # Check if query.message exists before trying to access chat_id
            chat_id = query.message.chat_id if query.message else None
            if not chat_id:
                logger.error("periodic_table_image: query.message is None, cannot get chat_id")
                return # Cannot proceed without chat_id

            await context.bot.send_photo(
                chat_id=chat_id,
                photo=open(image_path, 'rb'),
                caption="–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ",
                reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu_from_photo')]])
            )
            # Try to remove buttons from the original message
            if query.message:
                 await query.edit_message_reply_markup(reply_markup=None)
        except FileNotFoundError:
            logger.error(f"–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ–Ω—ñ“£ —Å—É—Ä–µ—Ç —Ñ–∞–π–ª—ã —Ç–∞–±—ã–ª–º–∞–¥—ã: {image_path}")
            # Ensure chat_id exists before sending error message
            chat_id = query.message.chat_id if query.message else None
            if chat_id:
                await context.bot.send_message(
                    chat_id=chat_id,
                    text=f"‚ùå “ö–∞—Ç–µ: –ö–µ—Å—Ç–µ —Å—É—Ä–µ—Ç—ñ –±–∞—Ä —Ñ–∞–π–ª–¥—ã ('{image_path}') —Ç–∞–±–∞ –∞–ª–º–∞–¥—ã–º. –û–Ω—ã“£ –±–æ—Ç–ø–µ–Ω –±—ñ—Ä “õ–∞–ª—Ç–∞–¥–∞ –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω—ã–Ω–∞ –∫”©–∑ –∂–µ—Ç–∫—ñ–∑—ñ“£—ñ–∑.",
                    reply_markup=build_main_menu()
                )
        except Exception as e:
            logger.error(f"–ú–µ–Ω–¥–µ–ª–µ–µ–≤ –∫–µ—Å—Ç–µ—Å—ñ–Ω—ñ“£ —Ñ–æ—Ç–æ—Å—ã–Ω –∂—ñ–±–µ—Ä—É “õ–∞—Ç–µ—Å—ñ: {e}", exc_info=True)
            chat_id = query.message.chat_id if query.message else None
            if chat_id:
                await context.bot.send_message(
                    chat_id=chat_id,
                    text="‚ùå –ö–µ—Å—Ç–µ —Å—É—Ä–µ—Ç—ñ–Ω –∂—ñ–±–µ—Ä—É ”ô—Ä–µ–∫–µ—Ç—ñ –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã.",
                    reply_markup=build_main_menu()
                )
    elif data == 'main_menu_from_photo':
        # Ensure chat_id exists before sending message
        chat_id = query.message.chat_id if query.message else None
        if chat_id:
             await context.bot.send_message(chat_id=chat_id, text='üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())
        else:
             logger.error("main_menu_from_photo: query.message is None, cannot get chat_id")

    elif data == 'main_menu':
         try:
              await query.edit_message_text('üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())
         except Exception as e:
              logger.warning(f"main_menu “Ø—à—ñ–Ω —Ö–∞–±–∞—Ä–ª–∞–º–∞–Ω—ã ”©“£–¥–µ—É —Å”ô—Ç—Å—ñ–∑ –±–æ–ª–¥—ã: {e}. –ñ–∞“£–∞—Å—ã–Ω –∂—ñ–±–µ—Ä—É.")
              chat_id = query.message.chat_id if query.message else None
              if chat_id:
                   await context.bot.send_message(chat_id=chat_id, text='üìå –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä:', reply_markup=build_main_menu())
              else:
                   logger.error("main_menu: query.message is None, cannot get chat_id for new message")

    elif data == 'info_compound':
        await query.edit_message_text(
            text="‚ÑπÔ∏è –ó–∞—Ç—Ç—ã“£ —Ñ–æ—Ä–º—É–ª–∞—Å—ã–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ (–º—ã—Å–∞–ª—ã, <code>H2O</code> –Ω–µ–º–µ—Å–µ <code>NaOH</code>).",
            reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]]),
            parse_mode=ParseMode.HTML # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
            )
        context.user_data['next_action'] = 'get_compound_info'
    elif data == 'find_element':
        await query.edit_message_text(
            text="‚öõÔ∏è –≠–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ —Ç–∞“£–±–∞—Å—ã–Ω (–º—ã—Å–∞–ª—ã, <code>Fe</code>) –Ω–µ–º–µ—Å–µ –æ–Ω—ã“£ —Ä–µ—Ç—Ç—ñ–∫ –Ω”©–º—ñ—Ä—ñ–Ω (–º—ã—Å–∞–ª—ã, <code>26</code>) –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑.",
             reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("¬´ –ú”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É", callback_data='main_menu')]]),
             parse_mode=ParseMode.HTML # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML
            )
        context.user_data['next_action'] = 'get_element_info'
    elif data == 'help':
        await help_command(update, context)
    else:
        logger.warning(f"–ü–æ–ª—É—á–µ–Ω –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π callback_data: {data}")
        try:
            await query.edit_message_text(text="ü§î –ë–µ–ª–≥—ñ—Å—ñ–∑ –æ–ø—Ü–∏—è. –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä–≥–µ –æ—Ä–∞–ª—É.", reply_markup=build_main_menu())
        except Exception as e:
            logger.error(f"–ë–µ–ª–≥—ñ—Å—ñ–∑ {data} –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω ”©“£–¥–µ—É “õ–∞—Ç–µ—Å—ñ: {e}")


# --- –ú”ô—Ç—ñ–Ω–¥—ñ–∫ —Ö–∞–±–∞—Ä–ª–∞–º–∞ ”©“£–¥–µ—É—à—ñ—Å—ñ (MessageHandler) ---
async def message_handler(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã–¥–∞–Ω –µ–Ω–≥—ñ–∑—É –∫“Ø—Ç—ñ–ª–≥–µ–Ω–¥–µ –º”ô—Ç—ñ–Ω–¥—ñ–∫ —Ö–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä–¥—ã ”©“£–¥–µ–π–¥—ñ."""
    text = update.message.text.strip()
    next_action = context.user_data.get('next_action')

    if next_action == 'calculate_molar_mass_input':
        context.user_data.pop('next_action', None)
        result = calculate_molar_mass(text)
        await update.message.reply_html(result, reply_markup=build_main_menu(), disable_web_page_preview=True) # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ HTML
    elif next_action == 'find_reaction_input':
        context.user_data.pop('next_action', None)
        message_to_reply = update.message
        try:
            if '->' in text: text = text.split('->')[0].strip()
            reactants_raw = [r.strip().upper() for r in text.split('+') if r.strip()]

            if not reactants_raw:
                 await message_to_reply.reply_html("–†–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä–¥—ñ —Ç–∞–Ω—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã. '+' –±–µ–ª–≥—ñ—Å—ñ–º–µ–Ω –±”©–ª—ñ–ø, “õ–∞–π—Ç–∞–ª–∞–ø –∫”©—Ä—ñ“£—ñ–∑.", reply_markup=build_main_menu(), disable_web_page_preview=True)
                 return

            reactants_key_input = tuple(sorted(reactants_raw))
            logger.info(f"–†–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä “Ø—à—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è —ñ–∑–¥–µ–ª—É–¥–µ: {reactants_key_input}")

            found_reaction_data = REACTIONS_DATA.get(reactants_key_input)

            if found_reaction_data:
                response = (
                    f"‚úÖ –†–µ–∞–∫—Ü–∏—è —Ç–∞–±—ã–ª–¥—ã:\n"
                    f"<code>{found_reaction_data['equation']}</code>\n\n" # –ò—Å–ø–æ–ª—å–∑—É–µ–º code
                    f"–†–µ–∞–∫—Ü–∏—è —Ç“Ø—Ä—ñ: {found_reaction_data.get('type', '–ö”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω')}"
                 )
                await message_to_reply.reply_html(response, reply_markup=build_main_menu(), disable_web_page_preview=True)
            else:
                user_input_str = ' + '.join(reactants_key_input)
                await message_to_reply.reply_html(
                    f"‚ùå <code>{user_input_str}</code> —Ä–µ–∞–≥–µ–Ω—Ç—Ç–µ—Ä—ñ “Ø—à—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è –º–µ–Ω—ñ“£ –¥–µ—Ä–µ–∫“õ–æ—Ä—ã–º–¥–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã.\n"
                    "–ú“Ø–º–∫—ñ–Ω –º“±–Ω–¥–∞–π —Ä–µ–∞–∫—Ü–∏—è –∂–æ“õ, –æ–ª –±–∞—Å“õ–∞—à–∞ –∂–∞–∑—ã–ª“ì–∞–Ω –Ω–µ–º–µ—Å–µ –º–µ–Ω –æ–Ω—ã ”ô–ª—ñ –±—ñ–ª–º–µ–π–º—ñ–Ω.",
                    reply_markup=build_main_menu(),
                    disable_web_page_preview=True
                )
        except Exception as e:
            logger.error(f"'{text}' “Ø—à—ñ–Ω —Ä–µ–∞–∫—Ü–∏—è–Ω—ã —ñ–∑–¥–µ—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã: {e}", exc_info=True)
            await message_to_reply.reply_html(
                "–°“±—Ä–∞–Ω—ã—Å—ã“£—ã–∑–¥—ã ”©“£–¥–µ—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–∞–≥–µ–Ω—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–Ω–∞–∫–æ–º '+' –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
                reply_markup=build_main_menu(),
                disable_web_page_preview=True
            )

    elif next_action == 'get_compound_info':
        context.user_data.pop('next_action', None)
        formula = text.upper()
        if formula in COMPOUNDS_DATA:
            data = COMPOUNDS_DATA[formula]
            response = f"üß™ <b>{data.get('name', '–ê—Ç–∞—É—ã –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω')} ({formula})</b>\n"
            if 'type' in data: response += f"–¢“Ø—Ä—ñ: {data['type']}\n"
            if 'properties' in data: response += f"“ö–∞—Å–∏–µ—Ç—Ç–µ—Ä—ñ: {data['properties']}\n"
            if 'application' in data: response += f"“ö–æ–ª–¥–∞–Ω—ã–ª—É—ã: {data['application']}"
            await update.message.reply_html(response, reply_markup=build_main_menu(), disable_web_page_preview=True)
        else:
            await update.message.reply_html(f"‚ùå <code>{formula}</code> —Ñ–æ—Ä–º—É–ª–∞—Å—ã –±–∞—Ä –∑–∞—Ç –∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ—Ç–∞ —Ç–∞–±—ã–ª–º–∞–¥—ã.", reply_markup=build_main_menu(), disable_web_page_preview=True)

    elif next_action == 'get_element_info':
        context.user_data.pop('next_action', None)
        query_arg = text.strip()
        found = False
        response = ""
        query_symbol = query_arg.title()

        if query_symbol in ELEMENTS_DATA:
            data = ELEMENTS_DATA[query_symbol]
            response = (
                f"‚öõÔ∏è <b>{data.get('name', '–ê—Ç—ã —Ç–∞–±—ã–ª–º–∞–¥—ã')} ({query_symbol})</b>\n"
                f"–ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ: {data.get('atomic_number', '–±–µ–ª–≥—ñ—Å—ñ–∑')}\n"
                f"–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –∞—Ç–æ–º–¥—ã“õ –º–∞—Å—Å–∞—Å—ã: {data.get('atomic_mass', '–±–µ–ª–≥—ñ—Å—ñ–∑')}"
            )
            found = True
        else:
            try:
                atomic_number = int(query_arg)
                for symbol, data in ELEMENTS_DATA.items():
                    if data.get('atomic_number') == atomic_number:
                        response = (
                            f"‚öõÔ∏è <b>{data.get('name', '–ê—Ç—ã —Ç–∞–±—ã–ª–º–∞–¥—ã')} ({symbol})</b>\n"
                            f"–ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ: {data.get('atomic_number', '–±–µ–ª–≥—ñ—Å—ñ–∑')}\n"
                            f"–°–∞–ª—ã—Å—Ç—ã—Ä–º–∞–ª—ã –∞—Ç–æ–º–¥—ã“õ –º–∞—Å—Å–∞—Å—ã: {data.get('atomic_mass', '–±–µ–ª–≥—ñ—Å—ñ–∑')}"
                        )
                        found = True
                        break
                if not found:
                     response = f"‚ùå –ê—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ <code>{atomic_number}</code> —ç–ª–µ–º–µ–Ω—Ç —Ç–∞–±—ã–ª–º–∞–¥—ã."
            except ValueError:
                response = f"‚ùå '<code>{query_arg}</code>' —Ç–∞–Ω—ã–ª–º–∞–¥—ã. –≠–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ —Ç–∞“£–±–∞—Å—ã–Ω (–º—ã—Å–∞–ª—ã, Fe) –Ω–µ–º–µ—Å–µ –æ–Ω—ã“£ –∞—Ç–æ–º–¥—ã“õ –Ω”©–º—ñ—Ä—ñ–Ω (–º—ã—Å–∞–ª—ã, 26) –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑."

        await update.message.reply_html(response, reply_markup=build_main_menu(), disable_web_page_preview=True)

    else:
        # If no specific action is expected, provide the menu
        await update.message.reply_text(
             "–°”ô–ª–µ–º! –ë–∞—Å—Ç–∞—É “Ø—à—ñ–Ω /menu —ñ—à—ñ–Ω–¥–µ–≥—ñ –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã –Ω–µ–º–µ—Å–µ –∞–Ω—ã“õ—Ç–∞–º–∞ –∞–ª—É “Ø—à—ñ–Ω /help –∫–æ–º–∞–Ω–¥–∞—Å—ã–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã“£—ã–∑.",
             reply_markup=build_main_menu(),
             disable_web_page_preview=True # Disable preview here too
        )

# --- –ù–µ–≥—ñ–∑–≥—ñ —Ñ—É–Ω–∫—Ü–∏—è ---
def main() -> None:
    """–ë–æ—Ç—Ç—ã —ñ—Å–∫–µ “õ–æ—Å–∞–¥—ã."""
    if not BOT_TOKEN or BOT_TOKEN == "YOUR_BOT_TOKEN_HERE":
        logging.critical("!!! BOT_TOKEN –æ—Ä–Ω–∞—Ç—ã–ª–º–∞“ì–∞–Ω –Ω–µ–º–µ—Å–µ ”ô–¥–µ–ø–∫—ñ –º”ô–Ω –ø–∞–π–¥–∞–ª–∞–Ω—ã–ª—É–¥–∞!")
        print("!!! “ö–∞—Ç–µ: BOT_TOKEN —Ç–∞–±—ã–ª–º–∞–¥—ã –Ω–µ–º–µ—Å–µ ”©–∑–≥–µ—Ä—Ç—ñ–ª–º–µ–≥–µ–Ω. –ö–æ–¥—Ç–∞“ì—ã 'YOUR_BOT_TOKEN_HERE' –º”ô–Ω—ñ–Ω –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑ –Ω–µ–º–µ—Å–µ BOT_TOKEN “õ–æ—Ä—à–∞“ì–∞–Ω –æ—Ä—Ç–∞ –∞–π–Ω—ã–º–∞–ª—ã—Å—ã–Ω –æ—Ä–Ω–∞—Ç—ã“£—ã–∑.")
        return

    application = Application.builder().token(BOT_TOKEN).build()

    # –ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä
    application.add_handler(CommandHandler("start", start_command))
    application.add_handler(CommandHandler("menu", menu_command))
    application.add_handler(CommandHandler("help", help_command))
    application.add_handler(CommandHandler("info", info_command_handler))
    application.add_handler(CommandHandler("element", element_command_handler))
    application.add_handler(CommandHandler("molar_mass", molar_mass_command_handler))

    # –ë–∞—Ç—ã—Ä–º–∞–ª–∞—Ä
    application.add_handler(CallbackQueryHandler(button_handler))

    # –ú”ô—Ç—ñ–Ω–¥—ñ–∫ —Ö–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, message_handler))

    logging.info("–ë–æ—Ç —ñ—Å–∫–µ “õ–æ—Å—ã–ª—É–¥–∞...")
    print("–ë–æ—Ç —ñ—Å–∫–µ “õ–æ—Å—ã–ª—É–¥–∞...")
    application.run_polling()

if __name__ == "__main__":
    main()